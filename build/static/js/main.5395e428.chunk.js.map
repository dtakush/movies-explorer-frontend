{"version":3,"sources":["components/ProtectedRoute/ProtectedRoute.js","context/CurrentUserContext.js","images/logo.svg","components/NavigationPopup/NavigationPopup.js","components/Header/Header.js","components/Promo/Promo.js","components/NavTab/NavTab.js","components/Subtitle/Subtitle.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/AboutMe/AboutMe.js","components/Footer/Footer.js","components/Main/Main.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","components/Preloader/Preloader.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","utils/formValidation.js","components/Profile/Profile.js","components/Entrance/Entrance.js","components/Register/Register.js","components/Login/Login.js","components/NotFound/NotFound.js","utils/MoviesApi.js","utils/MainApi.js","utils/auth.js","components/App/App.js","reportWebVitals.js","index.js","constants/constants.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","CurrentUserContext","React","createContext","NavigationPopup","className","isOpen","onClick","onClose","type","Header","isMobile","useMediaQuery","query","useState","isMenuPopupOpen","setIsMenuPopupOpen","src","logo","alt","Promo","NavTab","href","rel","Subtitle","subtitle","AboutProject","id","Techs","AboutMe","target","Footer","Main","FilterCheckbox","value","name","onChange","onCheck","checked","shortMovie","SearchForm","keyword","setKeyword","isSearchValid","setIsSearchValid","onSubmit","e","preventDefault","onSearch","noValidate","checkValidity","placeholder","required","MoviesCard","location","useLocation","handleDeleteMovie","onDelete","movie","nameRU","dur","hours","Math","trunc","minutes","durationToString","duration","pathname","savedMovies","find","movieId","onSave","trailer","style","backgroundImage","image","url","Preloader","MoviesCardList","numberOfMovies","setNumberOfMovies","loadMore","setLoadMore","windowWidth","setWindowWidth","useEffect","updateWindowWidth","window","innerWidth","addEventListener","MAX_WINDOW_SIZE","MID_WINDOW_SIZE","MIN_WINDOW_SIZE","isLoading","noResult","cards","slice","map","item","trailerLink","length","Movies","hideButton","SavedMovies","useValidation","email","password","formValues","setFormValues","errors","setErrors","isInputValid","setIsInputValid","handleEmailChange","useCallback","prevState","validationMessage","test","handleInputChange","closest","resetForm","newValues","newErrors","newIsValid","Profile","currentUser","useContext","formValidation","buttonClassName","evt","onUpdateUser","minLength","successMessage","disabled","onSignOut","Entrance","title","children","buttonText","entranceText","entranceLink","Register","history","useHistory","push","onRegister","Login","onLogin","NotFound","goBack","moviesApi","baseUrl","headers","this","fetch","method","then","_checkResponse","res","ok","json","Promise","reject","status","MOVIES_BASE_URL","mainApi","jwt","body","JSON","stringify","nameEN","director","description","country","year","MOVIE_INFO_URL","thumbnail","formats","credentials","_id","MAIL_BASE_URL","localStorage","getItem","BASE_URL","App","currentPath","setLoggedIn","setCurrentUser","setSuccessMessage","movies","setMovies","sortedMovies","setSortedMovies","isButtonHide","setIsButtonHide","setIsLoading","setSavedMovies","setShortMovie","isNoSearchResult","setIsNoSearchResult","handleLogin","console","log","data","setItem","catch","err","auth","tokenCheck","token","removeItem","deleteCard","card","deletedMovie","filter","i","newSavedMovies","showPreloader","setTimeout","a","handleCheckBox","filterShortMovies","getUserInfo","userInfo","getInitialCards","getSavedMovies","allSavedMovies","localSavedMovies","owner","Provider","exact","path","word","toLowerCase","result","forEach","includes","saveMovie","setUserInfo","userData","clear","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.5395e428.chunk.js","sourcesContent":["import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.8f97642a.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavigationPopup(props) {\n    return (\n        <section className={`nav-popup ${props.isOpen ? 'nav-popup_open' : ''}`}>\n            <div className=\"nav-popup__container\">\n            <button className=\"nav-popup__close-button\" onClick={props.onClose} />\n                <ul className=\"nav-popup__links\">\n                    <li className=\"nav-popup__link\">\n                        <NavLink\n                        to=\"/\"\n                        className=\"nav-popup__nav nav-popup__link_main\"\n                        >Главная</NavLink>\n                    </li>\n                    <li className=\"nav-popup__link\">\n                        <NavLink\n                        to=\"/movies\"\n                        className=\"nav-popup__nav nav-popup__link_movies\"\n                        >Фильмы</NavLink>\n                    </li>\n                    <li className=\"nav-popup__link\">\n                        <NavLink\n                        to=\"/saved-movies\"\n                        className=\"nav-popup__nav nav-popup__nav_saved-movies\"\n                        >Сохраненные фильмы</NavLink>\n                    </li>\n                </ul>\n                <div className=\"nav-popup__accaunt\">\n                    <NavLink\n                    to=\"/profile\"\n                    className=\"header__link header__profile-link\"\n                    >Аккаунт\n                        <button className=\"header__profile-button\" type=\"button\" />\n                    </NavLink>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default NavigationPopup;","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { useMediaQuery } from \"react-responsive\";\n\nimport logo from '../../images/logo.svg';\n\nimport NavigationPopup from '../NavigationPopup/NavigationPopup';\n\nfunction Header({ loggedIn }) {\n    // let location = useLocation();\n    const isMobile = useMediaQuery({ query: \"(max-width: 1000px)\" });\n\n    const [isMenuPopupOpen, setIsMenuPopupOpen] = React.useState(false);\n\n\n    //Открытие попапа аватара\n    function handleMenuClick() {\n     setIsMenuPopupOpen(!isMenuPopupOpen);\n   }\n \n   function closePopup() {\n     setIsMenuPopupOpen(false);\n   }\n\n    return (\n        <header className={`${!loggedIn ? \"header\" : \"header header_loggedin\"}`}>\n            <div className=\"header__info\">\n            <NavLink to=\"/\" className=\"header__logo\"><img src={logo} alt=\"Логотип проекта\"/></NavLink>\n                {!loggedIn ? \n                    <div className=\"header__nav\">\n                        <NavLink to=\"/signup\" className=\"header__link header__signup\">Регистрация</NavLink>\n                        <NavLink to=\"/signin\" className=\"header__link header__signin\">Войти</NavLink>\n                    </div>\n                :\n                    <>\n                        {isMobile ?\n                        <>\n                            <button\n                            className=\"header__nav-button\"\n                            type=\"button\"\n                            onClick={handleMenuClick} />\n                            <NavigationPopup\n                            isOpen={isMenuPopupOpen}\n                            onClose={closePopup} />\n                        </>\n                        :\n                        <div className=\"header__nav header__nav_loggedin\">\n                            <div className=\"header__links\">\n                                <NavLink to=\"/movies\" className=\"header__link header__movies-link\">Фильмы</NavLink>\n                                <NavLink to=\"/saved-movies\" className=\"header__link header__saved-movies-link\">Сохранённые фильмы</NavLink>\n                            </div>    \n                            <NavLink to=\"/profile\" className=\"header__link header__profile-link\">\n                                Аккаунт\n                                <button className=\"header__profile-button\" type=\"button\" />\n                            </NavLink>\n                        </div>\n                        }\n                    </>\n                }\n            </div>\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nfunction Promo(props) {\n    return (\n        <section className=\"promo\">\n            <div className=\"promo__image\">\n                <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\n            </div>\n        </section>\n    )\n}\n\nexport default Promo;","import React from 'react';\n\nfunction NavTab(props) {\n    return (\n        //eslint-disable-next-line\n        <section className=\"nav-tab\">  \n            <a href=\"#project\" className=\"nav-tab__link\" rel=\"noreferrer\">О проекте</a>\n            <a href=\"#techs\" className=\"nav-tab__link\" rel=\"noreferrer\">Технологии</a>\n            <a href=\"#me\" className=\"nav-tab__link\" rel=\"noreferrer\">Студент</a>\n        </section>\n    )\n}\n\nexport default NavTab;","import React from 'react';\n\nfunction Subtitle(props) {\n    return (\n        <div className=\"subtitle-block\">\n            <h3 className=\"subtitle\">{props.subtitle}</h3>\n        </div>\n    )\n}\n\nexport default Subtitle;","import React from 'react';\n\n// Компоненты\nimport Subtitle from '../Subtitle/Subtitle';\n\nfunction AboutProject(props) {\n    return (\n        <section id=\"project\" className=\"about-project\">\n            <div className=\"about-project__container\">\n                <Subtitle\n                    subtitle=\"О проекте\"\n                />\n                <div className=\"about-project__text-container\">\n                    <article className=\"about-project__text-block\">\n                        <h4 className=\"about-project__subtitle\">Дипломный проект включал 5 этапов</h4>\n                        <p className=\"about-project__text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n                    </article>\n                    <article className=\"about-project__text-block\">\n                        <h4 className=\"about-project__subtitle\">На выполнение диплома ушло 5 недель</h4>\n                        <p className=\"about-project__text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n                    </article>\n                </div>\n                <div className=\"about-project__line-container\">\n                        <div className=\"about-project__line about-project__color-line\">1 неделя</div>\n                        <div className=\"about-project__line about-project__grey-line\">4 недели</div>\n                        <p className=\"about-project__line-text\">Back-end</p>\n\n                        <p className=\"about-project__line-text\">Front-end</p>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default AboutProject;","import React from 'react';\n\n// Компоненты\nimport Subtitle from '../Subtitle/Subtitle';\n\nfunction Techs(props) {\n    return (\n        <section id=\"techs\" className=\"techs\">\n            <div className=\"techs__conteiner\">\n                <Subtitle\n                subtitle=\"Технологии\"\n                    />\n                \n                <h2 className=\"techs__title\">7 технологий</h2>\n                <p className=\"techs__subtitle\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n                <div className=\"techs__blocks\">\n                    <div className=\"techs__block\">HTML</div>\n                    <div className=\"techs__block\">CSS</div>\n                    <div className=\"techs__block\">JS</div>\n                    <div className=\"techs__block\">React</div>\n                    <div className=\"techs__block\">Git</div>\n                    <div className=\"techs__block\">Express.js</div>\n                    <div className=\"techs__block\">mongoDB</div>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default Techs;","import React from 'react';\n\n// Компоненты\nimport Subtitle from '../Subtitle/Subtitle';\n\nfunction AboutMe(props) {\n    return (\n        <section id=\"me\" className=\"about-me\">\n            <div className=\"about-me__conteiner\">\n                <Subtitle\n                        subtitle=\"Студент\"\n                    />\n                <div className=\"about-me__block\">\n                    <div className=\"about-me__text-block\">\n                        <h4 className=\"about-me__title\">Дарья</h4>\n                        <p className=\"about-me__subtitle\">Фронтенд-разработчик, 28 лет</p>\n                        <p className=\"about-me__text\">Привет, меня зовут Даша и так вышло, что я дизайнер.\n                                                        Больше чем за семь лет работы, я успела поработать\n                                                        как с монстрами рынка, так и помочь в наведении\n                                                        красоты и порядка начинающим брендам.</p>\n                        <div className=\"about-me__links\">\n                            <a className=\"about-me__link\" href=\"https://www.facebook.com/dashatakush\" target=\"_blank\" rel=\"noreferrer\">Facebook</a>\n                            <a className=\"about-me__link\" href=\"https://github.com/dtakush\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>\n                            <a className=\"about-me__link\" href=\"https://www.instagram.com/dariatakush/\" target=\"_blank\" rel=\"noreferrer\">Instagram</a>\n                        </div>\n                    </div>\n                    <div className=\"about-me__photo\"></div>\n                </div>\n                <h5 className=\"about-me__portfolio\">Портфолио</h5>\n                <a className=\"about-me__web-link\"  href=\"https://github.com/dtakush/how-to-learn.git\" target=\"_blank\" rel=\"noreferrer\">\n                    <p className=\"about-me__web-link_title\">Статичный сайт</p>\n                    <div className=\"about-me__web-link_arrow\"></div>\n                </a>\n                <a className=\"about-me__web-link\" href=\"https://github.com/dtakush/mesto.git\" target=\"_blank\" rel=\"noreferrer\">\n                    <p className=\"about-me__web-link_title\">Адаптивный сайт</p>\n                    <div className=\"about-me__web-link_arrow\"></div>\n                </a>\n                <a className=\"about-me__web-link\" href=\"https://github.com/dtakush/react-mesto-api-full.git\" target=\"_blank\" rel=\"noreferrer\">\n                    <p className=\"about-me__web-link_title\">Одностраничное приложение</p>\n                    <div className=\"about-me__web-link_arrow\"></div>\n                </a>\n            </div>\n        </section>\n    )\n}\n\nexport default AboutMe;","import React from 'react';\n\nfunction Footer(props) {\n    return (\n        <section className=\"footer\">\n            <div className=\"footer__container\">\n                <p className=\"footer__disclaimer\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\n                <div className=\"footer__line\"></div>\n                <div className=\"footer__block\">\n                    <p className=\"footer__date\">© 2021</p>\n\n                    <ul className=\"footer__links\">\n                        <li className=\"footer__link\"><a className=\"footer__text\" href=\"https://practicum.yandex.ru/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a></li>\n                        <li className=\"footer__link\"><a className=\"footer__text\" href=\"https://github.com/yandex-praktikum\" target=\"_blank\" rel=\"noreferrer\">Github</a></li>\n                        <li className=\"footer__link\"><a className=\"footer__text\" href=\"https://www.facebook.com/yandex.practicum\" target=\"_blank\" rel=\"noreferrer\">Facebook</a></li>\n                    </ul>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default Footer;","import React from 'react';\n\n// Компоненты\nimport Header from '../Header/Header';\nimport Promo from '../Promo/Promo';\nimport NavTab from '../NavTab/NavTab';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Footer from '../Footer/Footer';\n\nfunction Main(props) {\n    return (\n        <>\n            <Header\n            loggedIn={props.loggedIn}\n            />\n            \n            <Promo />\n            <NavTab />\n            <AboutProject />\n            <Techs />\n            <AboutMe />\n            <Footer />\n        </>    \n    )\n}\n\nexport default Main;","import React from 'react';\n\nfunction FilterCheckbox(props) {\n    return (\n        <div className=\"checkbox\">\n            <p className=\"checkbox__text\">Короткометражки</p>\n            <label className=\"checkbox__container\">\n                <input\n                type=\"checkbox\"\n                value=\"None\"\n                id=\"filter\"\n                name=\"check\"\n                className=\"checkbox__input\"\n                onChange={props.onCheck}\n                checked={props.shortMovie}\n                />\n                <i className=\"checkbox__indicator\"></i>\n            </label>\n        </div>\n    )\n}\n\nexport default FilterCheckbox;","import React from 'react';\n\n// Компоненты\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\n\nfunction SearchForm(props) {\n\n    const [keyword, setKeyword] = React.useState('');\n    const [isSearchValid, setIsSearchValid] = React.useState(true);\n\n    function handleSearch(e) {\n        setKeyword(e.target.value);\n        setIsSearchValid(e.target.checkValidity());\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onSearch(keyword);\n    }\n\n    return (\n        <section className=\"searchform\">\n            <div className=\"searchform__container\">\n                <form\n                className=\"searchform__form\"\n                onSubmit={handleSubmit}\n                noValidate>\n                    <input\n                    onChange={handleSearch}\n                    value={keyword || ''}\n                    id=\"search\"\n                    type=\"text\"\n                    className=\"searchform__input\"\n                    placeholder=\"Фильм\"\n                    required />\n\n                    <button\n                    className={`searchform__button ${isSearchValid\n                        ? ''\n                        : 'searchform__button_disabled'}`}\n                    type='submit'\n                    >\n                        <div className=\"searchform__button_pic\"></div>\n                    </button>\n                </form>\n                <FilterCheckbox\n                onCheck={props.onCheck}\n                shortMovie={props.shortMovie} />\n            </div>\n        </section>\n        \n    )\n}\n\nexport default SearchForm;","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nfunction MoviesCard(props) {\n    let location = useLocation();\n    // const isSaved = props.savedMovies.find(e => e.movieId === props.movie.id);\n\n    //Изменение формата продолжительности\n    function durationToString(dur) {\n        const hours = Math.trunc(dur/60);\n        const minutes = dur%60;\n        return `${hours > 0 ? `${hours}ч ` : ''}${minutes}м`;\n    }\n    \n\n    function handleSaveMovie(e) {\n        e.preventDefault();\n        props.onSave(props.movie);\n    }\n\n    function handleDeleteMovie(e) {\n        e.preventDefault();\n        props.onDelete(props.movie);\n    }\n\n\n    return (\n        <div className=\"card\">\n            <div className=\"card__menu\">\n                <div className=\"card__text\">\n                    <h5 className=\"card__title\">{props.movie.nameRU}</h5>\n                    <p className=\"card__duraton\">{durationToString(props.movie.duration)}</p>\n                </div>\n\n                {location.pathname === '/movies' && \n                !(props.savedMovies.find(e => e.movieId === props.movie.id)) && (\n                    <button className='card__save-button' onClick={handleSaveMovie}>\n                        <div className='card__save-icon'></div>\n                    </button>)}\n                {location.pathname === '/movies' &&\n                (props.savedMovies.find(e => e.movieId === props.movie.id)) && (\n                    <button className='card__save-button card__save-button_active' onClick={handleDeleteMovie}>\n                        <div className='card__save-icon card__save-icon_active'></div>\n                    </button>)}\n                {location.pathname === '/saved-movies' && (\n                    <button className='card__save-button' onClick={handleDeleteMovie}>\n                        <div className='card__save-icon_saved'></div>\n                    </button>)}\n\n            </div>\n            \n                {location.pathname === '/movies' && (\n                    <a\n                    className=\"card__trailer-link\"\n                    href={props.trailer}\n                    target=\"_blank\"\n                    rel=\"noreferrer\">\n                        <div\n                        className=\"card__image\"\n                        style={{ backgroundImage: `url(https://api.nomoreparties.co${props.movie.image.url})`}}>\n                        </div>\n                    </a>\n                )}\n\n                {location.pathname === '/saved-movies' && (\n                    <a\n                    className=\"card__trailer-link\"\n                    href={props.movie.trailer}\n                    target=\"_blank\"\n                    rel=\"noreferrer\">\n                        <div\n                        className=\"card__image\"\n                        style={{ backgroundImage: `url(${props.movie.image})`}}>\n                        </div>\n                    </a>\n                )}\n\n            \n        </div>\n    )\n}\n\nexport default MoviesCard;","import React from 'react'\nimport './Preloader.css'\n\nconst Preloader = () => {\n    return (\n        <div className=\"preloader\">\n            <div className=\"preloader__container\">\n                <span className=\"preloader__round\"></span>\n            </div>\n        </div>\n    )\n};\n\nexport default Preloader\n","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\n// Компоненты\nimport MoviesCard from '../MoviesCard/MoviesCard';\nimport Preloader from '../Preloader/Preloader';\nimport {MAX_WINDOW_SIZE,\n        MID_WINDOW_SIZE,\n        MIN_WINDOW_SIZE} from '../../constants/constants';\n\nfunction MoviesCardList(props) {\n    let location = useLocation();\n\n    const [numberOfMovies, setNumberOfMovies] = React.useState(12);\n    const [loadMore, setLoadMore] = React.useState(3);\n    const [windowWidth, setWindowWidth] = React.useState(0);\n\n    React.useEffect(() => {\n        function updateWindowWidth() {\n            setWindowWidth(window.innerWidth);\n        }\n\n        window.addEventListener('resize', updateWindowWidth);\n        updateWindowWidth();\n    }, []);\n\n    React.useEffect(() => {\n        if(windowWidth > MAX_WINDOW_SIZE) {\n            setNumberOfMovies(12);\n            setLoadMore(3);\n        } else if (windowWidth < MAX_WINDOW_SIZE && windowWidth > MID_WINDOW_SIZE) {\n            setNumberOfMovies(8);\n            setLoadMore(2);\n        } else if (windowWidth < MID_WINDOW_SIZE && windowWidth > MIN_WINDOW_SIZE) {\n            setNumberOfMovies(5);\n            setLoadMore(5);\n        }\n    }, [windowWidth]);\n\n    function clickLoadMore() {\n        return setNumberOfMovies(numberOfMovies + loadMore);\n    }\n\n \n    return (\n        <section className=\"movies-cards\">\n            {props.isLoading && <Preloader/>}\n\n            {props.noResult\n                ? <p className=\"movies-cards__no-result\">Поиск не дал результатов</p>\n                : ''}\n\n\n            <div className=\"movies-cards__container\">\n                {props.cards.slice(0, numberOfMovies).map((item) => {\n                return (\n                    <MoviesCard\n                    movie={item}\n                    trailer={item.trailerLink}\n                    key={item.id || item.movieId}\n                    onSave={props.onSave}\n                    onDelete={props.onDelete}\n                    savedMovies={props.savedMovies}\n                    />\n                    )\n                })}\n            </div>\n\n            {(props.cards.length >= numberOfMovies)\n                ? <button\n                    type=\"button\"\n                    onClick={clickLoadMore} \n                    className={`${location.pathname === '/movies'\n                            ? \"movies-cards__more-button\"\n                            : \"movies-cards__more-button_saved\"}`}> Еще </button>\n                : ''\n            }\n            \n        </section>\n    )\n}\n\nexport default MoviesCardList;","import React from 'react';\n\n// Компоненты\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\n\n\nfunction Movies(props) {\n    return (\n        <>\n            <Header\n            loggedIn={props.loggedIn}\n            />\n            \n            <SearchForm\n            onSearch={props.onSearch}\n            onCheck={props.onCheck}\n            shortMovie={props.shortMovie}\n            />\n\n            <MoviesCardList\n            cards={props.cards}\n            hideButton={props.hideButton}\n            onSave={props.onSave}\n            onDelete={props.onDelete}\n            savedMovies={props.savedMovies}\n            noResult={props.noResult}\n            isLoading={props.isLoading}\n            />\n            <Footer />\n        </>    \n    )\n}\n\nexport default Movies;","import React from 'react';\n\n// Компоненты\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport Header from '../Header/Header';\n\n\nfunction SavedMovies(props) {\n\n    return (\n        <>\n            <Header\n            loggedIn={props.loggedIn}\n            />\n            \n            <SearchForm\n            onSearch={props.onSearch}\n            onCheck={props.onCheck}\n            shortMovie={props.shortMovie}\n            />\n\n            <MoviesCardList\n            cards={props.cards}\n            hideButton={props.hideButton}\n            onSave={props.onSave}\n            onDelete={props.onDelete}\n            savedMovies={props.savedMovies}\n            noResult={props.noResult}\n            onCheck={props.onCheck}\n            isLoading={props.isLoading}\n            />\n            <Footer />\n        </>    \n    )\n}\n\nexport default SavedMovies;","import { useState, useCallback } from 'react';\n\nfunction useValidation() {\n\n    const [formValues, setFormValues] = useState({\n        name: '',\n        email: '',\n        password: ''\n    });\n    const [errors, setErrors] = useState({});\n    const [isInputValid, setIsInputValid] = useState(false);\n\n    const handleEmailChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setFormValues(prevState => ({...prevState, [name]: value}));\n        setErrors(errors => ({...errors, [name]: e.target.validationMessage}));\n\n        let emailRegExp = /^[a-zA-Z0-9]+@(?:[a-zA-Z0-9]+\\.)+[A-Za-z]+$/;\n        if (!emailRegExp.test(value)) {\n            setIsInputValid(false);\n        } else {\n            setIsInputValid(true);\n        }\n    }, [setFormValues])\n\n    const handleInputChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setFormValues(prevState => ({...prevState, [name]: value}));\n        setErrors(errors => ({...errors, [name]: e.target.validationMessage}));\n        setIsInputValid(e.target.closest(\"form\").checkValidity());\n    }, [setFormValues]);\n\n    const resetForm = useCallback(\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\n            setFormValues(newValues);\n            setErrors(newErrors);\n            setIsInputValid(newIsValid);\n        },\n        [setFormValues, setErrors, setIsInputValid]\n    );\n\n    return {\n        formValues,\n        setFormValues,\n        errors,\n        isInputValid,\n        setIsInputValid,\n        resetForm,\n        handleInputChange,\n        handleEmailChange,\n    };\n}\n\nexport default useValidation;","import React from 'react';\n\n//Контекст\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\n\n// Компоненты\nimport useValidation from '../../utils/formValidation';\nimport Header from '../Header/Header';\n\nfunction Profile(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const formValidation = useValidation(currentUser);\n\n    const {\n        formValues,\n        errors,\n        isInputValid,\n        resetForm,\n        setIsInputValid,\n        handleInputChange,\n    } = formValidation;\n\n    const { name, email } = formValues;\n\n    const buttonClassName = `${\n        isInputValid \n        ? \"profile__button profile__edit-button\"\n        : \"profile__button profile__edit-button profile__edit-button_disabled\"\n    }`;\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        props.onUpdateUser(name, email);\n        resetForm();\n    }\n\n    React.useEffect(() => {\n        if((formValues.name === currentUser.name) || (formValues.email === currentUser.email)) {\n            setIsInputValid(false);\n        }\n        //eslint-disable-next-line\n    }, [formValues])\n\n    return (\n        <section className=\"profile\">\n            <Header\n            loggedIn={props.loggedIn}\n            />\n\n            <div className=\"profile__container\">\n                <h2 className=\"profile__hello\">\n                    Привет, {currentUser.name}!\n                </h2>\n                <form\n                className=\"profile__form\"\n                onSubmit={handleSubmit}\n                noValidate>\n                    <div className=\"profile__edit-block profile__edit-name\">\n                        <div className=\"profile__edit-text-block\">\n                            <p className=\"profile__edit-text\">Имя</p>\n                            <input\n                            className=\"profile__user-text\"\n                            id=\"name\"\n                            minLength=\"3\"\n                            name=\"name\"\n                            type=\"text\"\n                            placeholder={currentUser.name}\n                            value={formValues.name || currentUser.name || ''}\n                            onChange={handleInputChange}\n                            required\n                            />\n                        </div>\n                        <span\n                        className=\"profile__input-error\"\n                        id=\"profile__input-name-error\">{errors.name}</span>\n                    </div>\n                    <div className=\"profile__edit-block profile__edit-email\">\n                        <div className=\"profile__edit-text-block\">\n                            <p className=\"profile__edit-text\">E-mail</p>\n                            <input\n                            className=\"profile__user-text\"\n                            id=\"name\"\n                            minLength=\"3\"\n                            name=\"email\"\n                            type=\"email\"\n                            placeholder={currentUser.email}\n                            value={formValues.email || currentUser.email || ''}\n                            onChange={handleInputChange}\n                            required\n                            />\n                        </div>    \n                        <span\n                        className=\"profile__input-error\"\n                        id=\"profile__input-email-error\">{errors.email}</span>\n                    </div>\n\n                    {props.successMessage \n                    ? <h5 className=\"profile__success-message\">\n                        Вы успешно изменили данные\n                      </h5>\n                    :\n                      <h5 className=\"profile__success-message profile__success-message_false\">\n                        Вы успешно изменили данные\n                      </h5>\n                    }\n\n                    {isInputValid \n                    ? <button\n                    className={buttonClassName}\n                    type=\"submit\">\n                        Сохранить\n                    </button>\n                    :\n                    <button\n                    className={buttonClassName}\n                    type=\"submit\"\n                    disabled>\n                        Редактировать\n                    </button>\n                    }\n\n                    <button\n                    onClick={props.onSignOut}\n                    className=\"profile__button profile__exit-button\"\n                    type=\"button\"\n                    >\n                        Выйти из аккаунта\n                    </button>  \n                </form>\n            </div>\n        </section>\n    )\n}\n\nexport default Profile;","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\n// Компоненты\nimport logo from '../../images/logo.svg';\n\nfunction Entrance(props) {\n    let location = useLocation();\n    \n    \n\n    return (\n            <div className=\"entrance__container\">\n                <Link to=\"/\" className=\"entrance__logo\"><img src={logo} alt=\"Логотип проекта\"/></Link>\n                <h3 className=\"entrance__hello\">{props.title}</h3>\n\n                <form\n                className=\"entrance__form\"\n                id={`${props.name}-form`}\n                onSubmit={props.onSubmit}>\n\n                    {props.children}\n                        \n                    <button\n                    className={`${location.pathname === '/signin' \n                                    ? \"entrance__button entrance__button-login\"\n                                    : \"entrance__button\"}`}\n                    type=\"submit\"\n                    id=\"entrance__submit\"\n                    disabled={!props.isInputValid}\n                    >\n                        {props.buttonText}\n                    </button>\n                </form>\n\n                <div className=\"entrance__come-in\">\n                    <p className=\"entrance__text\">{props.entranceText}</p>\n                    <Link\n                    to={`${location.pathname === '/signin' \n                            ? \"/signup\"\n                            : \"/signin\"}`}\n                    className={`${location.pathname === '/signin' \n                            ? \"entrance__link entrance__signin-link\"\n                            : \"entrance__link entrance__signup-link\"}`}\n                     >               \n                        {props.entranceLink}\n                    </Link>\n                </div> \n            </div>\n    )\n}\n\nexport default Entrance;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useValidation from '../../utils/formValidation';\n\n// Компоненты\nimport Entrance from '../Entrance/Entrance';\n\nfunction Register(props) {\n    const history = useHistory();\n\n    const { handleInputChange,\n        isInputValid,\n        resetForm,\n        formValues,\n        errors,\n        handleEmailChange } = useValidation();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        props.onRegister(formValues.name, formValues.email, formValues.password);\n        resetForm();\n    };\n\n    React.useEffect(() => {\n        if(props.loggedIn) {\n            history.push('/');\n        }\n        //eslint-disable-next-line\n    }, [props.loggedIn])\n\n    return (\n        <section className=\"register\">\n            <Entrance\n            name=\"register\"\n            title='Добро пожаловать!'\n            buttonText='Зарегистрироваться'\n            entranceText='Уже зарегистрированы?'\n            entranceLink='Войти'\n            onSubmit={handleSubmit}\n            isInputValid={isInputValid}\n            >\n                    <p className=\"entrance__form-text\">Имя</p>\n                    <input\n                    name=\"name\"\n                    id=\"register-name\"\n                    className=\"entrance__input entrance__input-name\"\n                    placeholder=\"Введите имя\"\n                    type=\"text\"\n                    required\n                    minLength=\"3\"\n                    value={formValues.name || ''}\n                    onChange={handleInputChange}\n                    />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"entrance__input-name-error\">{errors.name}</span>\n\n                    <p className=\"entrance__form-text\">E-mail</p>\n                    <input\n                    name=\"email\"\n                    id=\"register-email\"\n                    className=\"entrance__input entrance__input-email\"\n                    placeholder=\"Введите свою почту\"\n                    type=\"email\"\n                    required\n                    value={formValues.email || ''}\n                    onChange={handleEmailChange}\n                    />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"entrance__input-email-error\">{errors.email}</span>\n\n                    <p className=\"entrance__form-text\">Пароль</p>\n                    <input\n                    name=\"password\"\n                    id=\"register-password\"\n                    className=\"entrance__input entrance__input-password\"\n                    placeholder=\"Введите пароль\"\n                    type=\"password\"\n                    required\n                    minLength=\"5\"\n                    value={formValues.password || ''}\n                    onChange={handleInputChange}\n                    />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"register-password-error\">{errors.password}</span>\n\n            </Entrance>\n        </section>\n    )\n}\n\nexport default Register;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useValidation from '../../utils/formValidation';\n\n// Компоненты\nimport Entrance from '../Entrance/Entrance';\n\nfunction Login(props) {\n    const history = useHistory();\n\n    const { handleInputChange,\n        isInputValid,\n        resetForm,\n        formValues,\n        errors,\n        handleEmailChange } = useValidation();\n    \n    const { email, password } = formValues;\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        props.onLogin(email, password);\n        resetForm();\n    };\n\n    React.useEffect(() => {\n        if(props.loggedIn) {\n            history.push('/');\n        }\n        //eslint-disable-next-line\n    }, [props.loggedIn])\n\n    return (\n        <section className=\"login\">\n            <Entrance\n            name=\"login\"\n            title='Рады видеть!'\n            buttonText='Войти'\n            entranceText='Ещё не зарегистрированы?'\n            entranceLink='Регистрация'\n            onSubmit={handleSubmit}\n            isInputValid={isInputValid}\n            >\n                    <p className=\"entrance__form-text\">E-mail</p>\n                    <input\n                    name=\"email\"\n                    id=\"login-email\"\n                    className=\"entrance__input entrance__input-email\"\n                    placeholder=\"Введите свою почту\"\n                    type=\"email\"\n                    required\n                    value={formValues.email || ''}\n                    onChange={handleEmailChange}\n                    />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"login-email-error\">{errors.email}</span>\n\n                    <p className=\"entrance__form-text\">Пароль</p>\n                    <input\n                    name=\"password\"\n                    id=\"login-password\"\n                    className=\"entrance__input entrance__input-password\"\n                    placeholder=\"Введите пароль\"\n                    type=\"password\"\n                    required\n                    minLength=\"5\"\n                    value={formValues.password || ''}\n                    onChange={handleInputChange}\n                    />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"login-password-error\">{errors.password}</span>\n            </Entrance>    \n        </section>\n    )\n}\n\nexport default Login;","import React from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\n\nfunction NotFound(props) {\n    const history = useHistory();\n    const location = useLocation();\n\n    function goToPreviousPath() {\n        history.goBack();\n        if (location.pathname === history.location.pathname) {\n            history.goBack();\n        }\n      }\n\n    return (\n        <section className=\"not-found\">\n            <div className=\"not-found__container\">\n                <h1 className=\"not-found__title\">404</h1>\n                <p className=\"not-found__subtitle\">Страница не найдена</p>\n            </div>\n\n            <button className='not-found__button' to='/' onClick={goToPreviousPath}>\n                Назад\n            </button>            \n        </section>\n    )\n}\n\nexport default NotFound;\n\n/* <button\n                className=\"not-found__button\"\n                type=\"button\"\n                onClick={history.goBack}\n            >\n                Назад\n            </button> */","import { MOVIES_BASE_URL } from '../constants/constants';\n\nclass MoviesApi {\n    constructor({baseUrl, headers}) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    //Запрос карточек с сервера\n    getInitialCards() {\n        return fetch(`${this.baseUrl}`, {\n          method: 'GET',\n          headers: this.headers\n        })\n        .then(this._checkResponse)\n    }\n\n    _checkResponse(res){\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }  \n}\n\nconst moviesApi = new MoviesApi({\n    baseUrl: MOVIES_BASE_URL,\n    headers: {\n      'Accept': 'application/json',\n      // 'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      'Content-Type': 'application/json'\n    }\n});\n\n\nexport default moviesApi;","import { MAIL_BASE_URL, MOVIE_INFO_URL } from \"../constants/constants\";\n\nclass MainApi {\n    constructor({baseUrl, headers}) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    //Запрос информации о пользователе    \n    getUserInfo(jwt) {\n        return fetch(`${this.baseUrl}/users/me`, {\n          method: 'GET',\n          headers: {\n            'Accept': 'application/json',\n            'Authorization': `Bearer ${jwt}`,\n            'Content-Type': 'application/json'\n            },\n        })\n        .then(this._checkResponse)\n    }\n\n    //Изменение информации о пользователе\n    setUserInfo(name, email, jwt, currentUser) {\n        return fetch(`${this.baseUrl}/users/me`, {\n          method: 'PATCH',\n          headers: {\n            'Accept': 'application/json',\n            'Authorization': `Bearer ${jwt}`,\n            'Content-Type': 'application/json'\n            },\n          body: JSON.stringify({\n            name: name || currentUser.name,\n            email: email || currentUser.email\n          })\n        })\n        .then(this._checkResponse)\n    }\n\n    //сохранение фильма\n    saveMovie(movie, jwt) {\n        return fetch(`${this.baseUrl}/movies`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Authorization': `Bearer ${jwt}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                movieId: movie.id || 0,\n                nameRU: movie.nameRU || 'no name',\n                nameEN: movie.nameEN || 'no english name',\n                director: movie.director || 'no director',\n                description: movie.description || 'no description',\n                trailer: movie.trailerLink || 'https://www.youtube.com/channel/UCng_jFvloTT9v7JlSwi_qSQ',\n                country: movie.country || 'no country',\n                duration: movie.duration || 0,\n                year: movie.year || 'no year',\n                image: `${MOVIE_INFO_URL}${movie.image.url}`,\n                thumbnail: `${MOVIE_INFO_URL}${movie.image.formats.thumbnail.url}`,\n            }),\n        })\n        .then(this._checkResponse);\n    }\n\n    //запрос сохраненных фильмов\n    getSavedMovies(jwt) {\n        return fetch(`${this.baseUrl}/movies`, {\n          method: 'GET',\n          headers: {\n            'Accept': 'application/json',\n            'Authorization': `Bearer ${jwt}`,\n            'Content-Type': 'application/json'\n        },\n          credentials: 'include',\n        })\n        .then(this._checkResponse);\n    }\n\n    //удаление фильма\n    deleteCard(movie, jwt) {\n        return fetch(`${this.baseUrl}/movies/${movie._id}`, {\n          method: 'DELETE',\n          headers: {\n            'Accept': 'application/json',\n            'Authorization': `Bearer ${jwt}`,\n            'Content-Type': 'application/json'\n        },\n        })\n        .then(this._checkResponse);\n    }\n\n    _checkResponse(res){\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }  \n}\n\nconst mainApi = new MainApi({\n    baseUrl: MAIL_BASE_URL,\n    headers: {\n        'Accept': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': 'application/json'\n    }\n}); \n    \n    \nexport default mainApi;","export const BASE_URL = 'https://api.dtakush.diploma.nomoredomains.monster';\n\n//Регистрация\nexport const register = (name, email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"name\": name,\n      \"email\": email,\n      \"password\": password})\n  })\n  .then((res) => {\n    if(res.status === 200) {\n      return res.json();\n    }\n    if(res.status === 400) {\n      console.log(\"Не передано одно из полей\");\n    }\n    if(res.status === 401) {\n      console.log(\"Пользователь с email не найден\");\n    }\n})\n  .then((data) => {\n    return data;\n  })\n  .catch((err) => console.log(err));\n};\n\n\n//Авторизация\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({email, password})\n    })\n    .then((res) => {\n        if(res.status === 200) {\n          return res.json();\n        }\n        if(res.status === 400) {\n          console.log(\"Не передано одно из полей\");\n        }\n        if(res.status === 401) {\n          console.log(\"Пользователь с email не найден\");\n        }\n    })\n    .then((data) => {\n      if (data.jwt) {\n        localStorage.setItem('jwt', data.jwt);\n        return data;\n      }\n      return;\n    })\n    .catch((err) => console.log(err));\n};\n\n\n//Проверка токена\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then((res) => {\n    if(res.status === 200) {\n      return res.json();\n    }\n    if(res.status === 400) {\n      console.log(\"Токен не передан или передан не в том формате\");\n    }\n    if(res.status === 401) {\n      console.log(\"Переданный токен некорректен\");\n    }\n  })\n  .then((data) => {\n    return data;\n  })\n  .catch((err) => console.log(err));\n}","import React from 'react';\nimport { Route, Switch, useHistory, useLocation } from 'react-router-dom';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n\n//Контекст\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\n\n// Компоненты\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport NotFound from '../NotFound/NotFound';\n\n//API\nimport moviesApi from '../../utils/MoviesApi';\nimport mainApi from '../../utils/MainApi';\nimport * as auth from \"../../utils/auth\";\n\n\nfunction App() {\n  const history = useHistory();\n  let location = useLocation();\n  const currentPath = location.pathname;\n\n  //Вход\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [successMessage, setSuccessMessage] = React.useState(false);\n  // const [jwt, setJwt] = React.useState('');\n\n  //Карточки\n  const [movies, setMovies] = React.useState([]);\n  const [sortedMovies, setSortedMovies] = React.useState([]);\n  const [isButtonHide, setIsButtonHide] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n  const [shortMovie, setShortMovie] = React.useState(false);\n  const [isNoSearchResult, setIsNoSearchResult] = React.useState(false);\n\n\n/////////////////////////////////////\n//////////// АККАУНТ ////////////////\n/////////////////////////////////////\n\n\n  //Регистрация пользователя\n  function handleRegister(name, email, password) {\n    auth.register(name, email, password)\n      .then(() => {\n        handleLogin(email, password);\n      })\n      .catch((err) => {\n        console.log(`При регистрации: ${err}`);\n      })\n  }\n\n  //Авторизация пользователя\n  function handleLogin(email, password) {\n    auth.authorize(email, password)\n    .then((res) => {\n      if(res && res.jwt) {\n        //setJwt(res.jwt);\n        localStorage.setItem('jwt', res.jwt);\n        tokenCheck();\n      }\n    })\n    .then(() => {\n      setLoggedIn(true);\n      history.push('/movies');\n    })\n    .catch((err) => {\n      console.log(`Attention! ${err}`);\n    })\n  }\n\n  //Проверка токена\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt');\n\n    if(jwt) {\n      auth.checkToken(jwt)\n        .then((res) => {\n            if(res) {\n              setLoggedIn(true);\n\n            } else {\n              localStorage.removeItem('jwt');\n              history.push(\"/\");\n              setLoggedIn(false);\n              return\n            }\n        })\n        .catch((err) => {\n            console.log(`Attention! ${err}`);\n            history.push(\"/signin\");\n        })\n    }\n  }\n\n  //Обновление данных профиля\n  function handleUpdateUserInfo(name, email) {\n    const jwt = localStorage.getItem('jwt');\n    \n    mainApi.setUserInfo(name, email, jwt, currentUser)\n      .then((userData) => {\n        setCurrentUser({...currentUser, ...userData});\n        setSuccessMessage(true);\n        console.log('Успешно!');\n      })\n      .catch((err) => {\n        setSuccessMessage(false);\n        console.log(`Attention! ${err}`);\n    })\n  }\n\n  //Выход из аккаунта\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('movies');\n    localStorage.removeItem('savedMovies');\n    localStorage.removeItem('movieSearchResult');\n    localStorage.removeItem('savedMovieSearchResult');\n    localStorage.clear();\n    history.push('/');\n  }\n\n\n/////////////////////////////////////\n/////////// ФИЛЬМЫ //////////////////\n/////////////////////////////////////\n\n  //Сохранение фильма\n  function saveCard(movie) {\n    const jwt = localStorage.getItem('jwt');\n    mainApi.saveMovie(movie, jwt)\n      .then((card) => {\n        setSavedMovies([card, ...savedMovies]);\n        localStorage.setItem('savedMovies', JSON.stringify([card, ...savedMovies]));\n      })\n      .catch((err) => {\n        console.log(`Attention! ${err}`);\n      });\n  }\n\n  //Удаление из сохраненных\n  function deleteCard(card) {\n    const jwt = localStorage.getItem('jwt');\n    const movieId = card.id || card.movieId;\n    const deletedMovie = savedMovies.filter((i) => i.movieId === movieId);\n    mainApi.deleteCard(deletedMovie[0], jwt)\n      .then((movie) => {\n        const newSavedMovies = savedMovies.filter((e) => e.movieId !== movieId);\n        setSavedMovies(newSavedMovies);   \n        localStorage.setItem('savedMovies', JSON.stringify(newSavedMovies));\n      })\n  }\n\n  //Поиск фильмов\n  function searchMovies(word) {\n    showPreloader();\n    const keyword = word.toLowerCase();\n    const result = [];\n    movies.forEach((item) => {\n      if((item.nameRU !== null && item.nameRU.toLowerCase().includes(keyword))||\n          (item.nameEN !== null && item.nameEN.toLowerCase().includes(keyword))) {\n          result.push(item);\n          setIsNoSearchResult(false);\n          setIsButtonHide(false)\n          setSortedMovies(result);\n          localStorage.setItem('movieSearchResult', JSON.stringify(result));\n        } else if (result.length < 1) {\n          setIsNoSearchResult(true);\n          setIsButtonHide(true);\n          setSortedMovies([]);\n        }\n    })\n  }\n\n  //Поиск сохраненных фильмов\n  function searchSavedMovies(word) {\n    showPreloader();\n    const keyword = word.toLowerCase();\n    const result = [];\n    savedMovies.forEach((item) => {\n      if ((item.nameRU !== null && item.nameRU.toLowerCase().includes(keyword)) ||\n          (item.nameEN !== null && item.nameEN.toLowerCase().includes(keyword))) {\n          result.push(item);\n          setIsNoSearchResult(false);\n          setIsButtonHide(true);\n          setSavedMovies(result);\n          localStorage.setItem('savedMovieSearchResult', JSON.stringify(result));\n          //console.log(localStorage);\n        } else if (result.length < 1) {\n          setIsNoSearchResult(true);\n          setIsButtonHide(true);\n          setSavedMovies([]);\n        }\n    })\n  }\n\n  //Прелоадер\n  function showPreloader() {\n    setIsLoading(true);\n    setTimeout(async () => {\n        setIsLoading(false);\n    }, 1000);\n  }\n\n  //изменение состояние чекбокса\n  function handleCheckBox() {\n    setShortMovie(!shortMovie);\n  }\n\n  //фильтрация по продолжительности\n  function filterShortMovies(sortedMovies) {\n    //console.log(sortedMovies);\n\n      if (sortedMovies.length !== 0 || sortedMovies !== 'undefined') {\n          return sortedMovies.filter((movie) => \n            shortMovie\n              ? movie.duration <= 40\n              : true\n          )\n      }\n  }\n\n/////////////////////////////////////\n/////////// ЗАПРОСЫ //////////////////\n/////////////////////////////////////\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      tokenCheck();\n      setLoggedIn(true);\n      history.push(currentPath);\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  //Запрос информации пользователя\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if(loggedIn) {\n      mainApi.getUserInfo(jwt)\n        .then((userInfo) => {\n          setCurrentUser(userInfo);\n        })\n        .catch((err) => {\n          history.push(\"/\");\n          setLoggedIn(false);\n          console.log(`Attention! ${err}`);\n        });\n      }\n      //eslint-disable-next-line\n  }, [loggedIn]);\n\n  //Запрос всех фильмов\n  React.useEffect(() => {\n      moviesApi.getInitialCards()\n      .then((movies) => {\n        localStorage.setItem('movies', movies);\n        setMovies(movies);\n      })\n      .catch((err) => {\n        console.log(`Attention! ${err}`);\n      });\n  }, []);\n  \n\n  //Запрос сохраненных фильмов\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    \n    if(loggedIn) {\n      mainApi.getSavedMovies(jwt)\n      .then((allSavedMovies) => {\n        //console.log(allSavedMovies);\n        const localSavedMovies = allSavedMovies.filter((item) => item.owner === currentUser._id);\n        localStorage.setItem('savedMovies', JSON.stringify(localSavedMovies));\n        //console.log(localSavedMovies);\n        setSavedMovies(localSavedMovies);\n      })\n      .catch((err) => {\n        history.push(\"/\");\n        setLoggedIn(false);\n        console.log(`Attention! ${err}`);\n      });\n    }\n    //eslint-disable-next-line\n  }, [currentUser]);\n  \n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n\n        <Switch>\n          <Route exact path=\"/\">\n            <Main\n            loggedIn={loggedIn} />\n          </Route>\n\n          <ProtectedRoute exact path=\"/movies\"\n              component={Movies}\n              loggedIn={loggedIn}\n              cards={filterShortMovies(sortedMovies)}\n              shortMovie={shortMovie}\n              isLoading={isLoading}\n              onSearch={searchMovies}\n              hideButton={isButtonHide}\n              onSave={saveCard}\n              onDelete={deleteCard}\n              savedMovies={savedMovies}\n              onCheck={handleCheckBox}\n              noResult={isNoSearchResult}\n          />\n    \n          <ProtectedRoute exact path=\"/saved-movies\"\n              component={SavedMovies}\n              loggedIn={loggedIn}\n              cards={filterShortMovies(savedMovies)}\n              shortMovie={shortMovie}\n              isLoading={isLoading}\n              hideButton={isButtonHide}\n              onSearch={searchSavedMovies}\n              onDelete={deleteCard}\n              onCheck={handleCheckBox}\n              noResult={isNoSearchResult}\n          />\n          \n          <ProtectedRoute exact path=\"/profile\"\n              component={Profile}\n              loggedIn={loggedIn}\n              onUpdateUser={handleUpdateUserInfo}\n              onSignOut={handleSignOut}\n              successMessage={successMessage}\n          />\n\n          <Route path=\"/signin\">\n            <Login\n            loggedIn={loggedIn}\n            onLogin={handleLogin} />\n          </Route>\n          \n          <Route path=\"/signup\">\n            <Register\n            loggedIn={loggedIn}\n            onRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"*\">\n            <NotFound />\n          </Route>\n\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const MOVIES_BASE_URL = 'https://api.nomoreparties.co/beatfilm-movies';\nconst MAIL_BASE_URL = 'https://api.dtakush.diploma.nomoredomains.monster';\nconst MOVIE_INFO_URL = 'https://api.nomoreparties.co';\n\nconst MAX_WINDOW_SIZE = 1279;\nconst MID_WINDOW_SIZE = 810;\nconst MIN_WINDOW_SIZE = 319;\n\nmodule.exports = {\n    MOVIES_BASE_URL,\n    MAIL_BASE_URL,\n    MOVIE_INFO_URL,\n    MAX_WINDOW_SIZE,\n    MID_WINDOW_SIZE,\n    MIN_WINDOW_SIZE,\n}"],"sourceRoot":""}