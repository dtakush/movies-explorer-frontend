{"version":3,"sources":["utils/constants.js","components/ProtectedRoute/ProtectedRoute.js","images/logo.svg","components/NavigationPopup/NavigationPopup.js","components/Header/Header.js","components/Promo/Promo.js","components/NavTab/NavTab.js","components/Subtitle/Subtitle.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","components/AboutMe/AboutMe.js","components/Footer/Footer.js","components/Main/Main.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","utils/formValidation.js","components/Profile/Profile.js","components/Entrance/Entrance.js","components/Register/Register.js","components/Login/Login.js","components/NotFound/NotFound.js","context/CurrentUserContext.js","utils/MoviesApi.js","utils/MainApi.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["module","exports","moviesBaseUrl","mainBaseUrl","ProtectedRoute","Component","component","props","loggedIn","to","NavigationPopup","className","isOpen","onClick","onClose","type","Header","location","useLocation","isMobile","useMediaQuery","query","React","useState","isMenuPopupOpen","setIsMenuPopupOpen","pathname","src","logo","alt","Promo","NavTab","href","rel","Subtitle","subtitle","AboutProject","id","Techs","AboutMe","target","Footer","Main","FilterCheckbox","value","name","SearchForm","keyword","setKeyword","onSubmit","e","preventDefault","onSearch","noValidate","onChange","placeholder","required","MoviesCard","isButtonActive","setMovieSavedIcon","movie","deleteMovie","onDelete","nameRU","dur","hours","Math","trunc","minutes","durationToString","duration","onSave","country","director","year","description","image","trailer","nameEN","thumbnail","movieId","trailerLink","style","backgroundImage","MoviesCardList","renderedMovies","setRenderedMovies","useEffect","windowSize","windowInnerWidth","window","innerWidth","totalNumberOfMovies","min","cards","length","first","slice","noResult","map","item","url","isMovieSaved","isButtonHide","Movies","hideButton","SavedMovies","useValidation","userData","inputName","inputEmail","inputPassword","formValues","setFormValues","errors","setErrors","isInputValid","setIsInputValid","handleInputChange","useCallback","prevState","validationMessage","closest","checkValidity","Profile","formValidation","currentUser","minLength","Entrance","title","children","buttonText","entranceText","entranceLink","Register","setName","email","setEmail","password","setPassword","onRegister","registerName","registerEmail","registerPassword","Login","onLogin","loginEmail","loginPassword","NotFound","history","useHistory","goBack","CurrentUserContext","createContext","moviesApi","baseUrl","headers","this","fetch","method","then","_checkResponse","res","ok","json","Promise","reject","status","mainApi","data","body","JSON","stringify","about","_headers","console","log","catch","err","token","localStorage","setItem","getItem","App","setCurrentUser","setLoggedIn","setUserData","movies","setMovies","sortedMovies","setSortedMovies","setIsButtonHide","isNoSearchResult","setIsNoSearchResult","savedMovies","setSavedMovies","selectedMovie","find","_id","deletedMovie","Error","newMoviesList","filter","c","locationPath","checkToken","removeItem","push","getUserInfo","userInfo","getInitialCards","Provider","exact","path","word","toLowerCase","result","forEach","includes","saveMovie","savedMovie","some","isSaved","oResult","authorize","register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4HAGAA,EAAOC,QAAU,CACbC,cAJkB,+CAKlBC,YAJgB,sD,sKCULC,MARf,YAA6D,IAAxBC,EAAuB,EAAlCC,UAAyBC,EAAS,iBACxD,OACI,cAAC,IAAD,UACKA,EAAMC,SAAW,cAACH,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUE,GAAG,e,eCNvD,MAA0B,iCCyC1BC,MAtCf,SAAyBH,GACrB,OACI,yBAASI,UAAS,oBAAeJ,EAAMK,OAAS,iBAAmB,IAAnE,SACI,sBAAKD,UAAU,uBAAf,UACA,wBAAQA,UAAU,0BAA0BE,QAASN,EAAMO,UACvD,qBAAIH,UAAU,mBAAd,UACI,oBAAIA,UAAU,kBAAd,SACI,cAAC,IAAD,CACAF,GAAG,IACHE,UAAU,sCAFV,0DAKJ,oBAAIA,UAAU,kBAAd,SACI,cAAC,IAAD,CACAF,GAAG,UACHE,UAAU,wCAFV,oDAKJ,oBAAIA,UAAU,kBAAd,SACI,cAAC,IAAD,CACAF,GAAG,gBACHE,UAAU,6CAFV,0HAMR,qBAAKA,UAAU,qBAAf,SACI,eAAC,IAAD,CACAF,GAAG,WACHE,UAAU,oCAFV,uDAII,wBAAQA,UAAU,yBAAyBI,KAAK,sBC+BzDC,MAxDf,SAAgBT,GACZ,IAAIU,EAAWC,cACTC,EAAWC,wBAAc,CAAEC,MAAO,wBAExC,EAA8CC,IAAMC,UAAS,GAA7D,mBAAOC,EAAP,KAAwBC,EAAxB,KAYA,OACI,wBAAQd,UAAS,UAA2B,MAAtBM,EAASS,SAAmB,SAAW,0BAA7D,SACI,sBAAKf,UAAU,eAAf,UACA,cAAC,IAAD,CAASF,GAAG,IAAIE,UAAU,eAA1B,SAAyC,qBAAKgB,IAAKC,EAAMC,IAAI,4FAClC,MAAtBZ,EAASS,SACN,sBAAKf,UAAU,cAAf,UACI,cAAC,IAAD,CAASF,GAAG,UAAUE,UAAU,8BAAhC,gFACA,cAAC,IAAD,CAASF,GAAG,UAAUE,UAAU,8BAAhC,+CAGJ,mCACKQ,EACD,qCACI,wBACAR,UAAU,qBACVI,KAAK,SACLF,QAxBxB,WACCY,GAAoBD,MAwBG,cAAC,EAAD,CACAZ,OAAQY,EACRV,QAvBzB,WACEW,GAAmB,SAyBA,sBAAKd,UAAU,mCAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,cAAC,IAAD,CAASF,GAAG,UAAUE,UAAU,mCAAhC,kDACA,cAAC,IAAD,CAASF,GAAG,gBAAgBE,UAAU,yCAAtC,wHAEJ,eAAC,IAAD,CAASF,GAAG,WAAWE,UAAU,oCAAjC,uDAEI,wBAAQA,UAAU,yBAAyBI,KAAK,yBCzCjEe,MAVf,SAAevB,GACX,OACI,yBAASI,UAAU,QAAnB,SACI,qBAAKA,UAAU,eAAf,SACI,oBAAIA,UAAU,eAAd,iSCODoB,MAXf,SAAgBxB,GACZ,OAEI,cADA,CACA,WAASI,UAAU,UAAnB,UACI,mBAAGqB,KAAK,WAAWrB,UAAU,gBAAgBsB,IAAI,aAAjD,+DACA,mBAAGD,KAAK,SAASrB,UAAU,gBAAgBsB,IAAI,aAA/C,0EACA,mBAAGD,KAAK,MAAMrB,UAAU,gBAAgBsB,IAAI,aAA5C,4DCEGC,MARf,SAAkB3B,GACd,OACI,qBAAKI,UAAU,iBAAf,SACI,oBAAIA,UAAU,WAAd,SAA0BJ,EAAM4B,cC6B7BC,MA7Bf,SAAsB7B,GAClB,OACI,yBAAS8B,GAAG,UAAU1B,UAAU,gBAAhC,SACI,sBAAKA,UAAU,2BAAf,UACI,cAAC,EAAD,CACIwB,SAAS,sDAEb,sBAAKxB,UAAU,gCAAf,UACI,0BAASA,UAAU,4BAAnB,UACI,oBAAIA,UAAU,0BAAd,2LACA,mBAAGA,UAAU,sBAAb,6hBAEJ,0BAASA,UAAU,4BAAnB,UACI,oBAAIA,UAAU,0BAAd,kMACA,mBAAGA,UAAU,sBAAb,6hBAGR,sBAAKA,UAAU,gCAAf,UACQ,qBAAKA,UAAU,gDAAf,oDACA,qBAAKA,UAAU,+CAAf,oDACA,mBAAGA,UAAU,2BAAb,sBAEA,mBAAGA,UAAU,2BAAb,gCCET2B,MAxBf,SAAe/B,GACX,OACI,yBAAS8B,GAAG,QAAQ1B,UAAU,QAA9B,SACI,sBAAKA,UAAU,mBAAf,UACI,cAAC,EAAD,CACAwB,SAAS,iEAGT,oBAAIxB,UAAU,eAAd,4EACA,mBAAGA,UAAU,kBAAb,2cACA,sBAAKA,UAAU,gBAAf,UACI,qBAAKA,UAAU,eAAf,kBACA,qBAAKA,UAAU,eAAf,iBACA,qBAAKA,UAAU,eAAf,gBACA,qBAAKA,UAAU,eAAf,mBACA,qBAAKA,UAAU,eAAf,iBACA,qBAAKA,UAAU,eAAf,wBACA,qBAAKA,UAAU,eAAf,8BCwBL4B,MAzCf,SAAiBhC,GACb,OACI,yBAAS8B,GAAG,KAAK1B,UAAU,WAA3B,SACI,sBAAKA,UAAU,sBAAf,UACI,cAAC,EAAD,CACQwB,SAAS,+CAEjB,sBAAKxB,UAAU,kBAAf,UACI,sBAAKA,UAAU,uBAAf,UACI,oBAAIA,UAAU,kBAAd,4CACA,mBAAGA,UAAU,qBAAb,wJACA,mBAAGA,UAAU,iBAAb,87BAIA,sBAAKA,UAAU,kBAAf,UACI,mBAAGA,UAAU,iBAAiBqB,KAAK,uCAAuCQ,OAAO,SAASP,IAAI,aAA9F,sBACA,mBAAGtB,UAAU,iBAAiBqB,KAAK,6BAA6BQ,OAAO,SAASP,IAAI,aAApF,oBACA,mBAAGtB,UAAU,iBAAiBqB,KAAK,yCAAyCQ,OAAO,SAASP,IAAI,aAAhG,6BAGR,qBAAKtB,UAAU,uBAEnB,oBAAIA,UAAU,sBAAd,oEACA,oBAAGA,UAAU,qBAAsBqB,KAAK,8CAA8CQ,OAAO,SAASP,IAAI,aAA1G,UACI,mBAAGtB,UAAU,2BAAb,6FACA,qBAAKA,UAAU,gCAEnB,oBAAGA,UAAU,qBAAqBqB,KAAK,uCAAuCQ,OAAO,SAASP,IAAI,aAAlG,UACI,mBAAGtB,UAAU,2BAAb,mGACA,qBAAKA,UAAU,gCAEnB,oBAAGA,UAAU,qBAAqBqB,KAAK,sDAAsDQ,OAAO,SAASP,IAAI,aAAjH,UACI,mBAAGtB,UAAU,2BAAb,+JACA,qBAAKA,UAAU,sCCjBpB8B,MApBf,SAAgBlC,GACZ,OACI,yBAASI,UAAU,SAAnB,SACI,sBAAKA,UAAU,oBAAf,UACI,mBAAGA,UAAU,qBAAb,0MACA,qBAAKA,UAAU,iBACf,sBAAKA,UAAU,gBAAf,UACI,mBAAGA,UAAU,eAAb,uBAEA,qBAAIA,UAAU,gBAAd,UACI,oBAAIA,UAAU,eAAd,SAA6B,mBAAGA,UAAU,eAAeqB,KAAK,+BAA+BQ,OAAO,SAASP,IAAI,aAApF,2GAC7B,oBAAItB,UAAU,eAAd,SAA6B,mBAAGA,UAAU,eAAeqB,KAAK,sCAAsCQ,OAAO,SAASP,IAAI,aAA3F,sBAC7B,oBAAItB,UAAU,eAAd,SAA6B,mBAAGA,UAAU,eAAeqB,KAAK,4CAA4CQ,OAAO,SAASP,IAAI,aAAjG,oCCWtCS,MAdf,SAAcnC,GACV,OACI,qCACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCNGoC,MAZf,SAAwBpC,GACpB,OACI,sBAAKI,UAAU,WAAf,UACI,mBAAGA,UAAU,iBAAb,wGACA,sBAAKA,UAAU,sBAAf,UACI,uBAAOI,KAAK,WAAW6B,MAAM,OAAOP,GAAG,SAASQ,KAAK,QAAQlC,UAAU,oBACvE,uBAAOA,UAAU,2BCiClBmC,MApCf,SAAoBvC,GAChB,MAA8Be,IAAMC,SAAS,IAA7C,mBAAOwB,EAAP,KAAgBC,EAAhB,KASA,OACI,yBAASrC,UAAU,aAAnB,SACI,sBAAKA,UAAU,wBAAf,UACI,uBACAA,UAAU,mBACVsC,SAVZ,SAAsBC,GAClBA,EAAEC,iBACF5C,EAAM6C,SAASL,IASPM,YAAU,EAHV,UAII,uBACAC,SAhBhB,SAAsBJ,GAClBF,EAAWE,EAAEV,OAAOI,QAgBRA,MAAOG,GAAW,GAClBV,GAAG,SACHtB,KAAK,OACLJ,UAAU,oBACV4C,YAAY,iCACZC,UAAQ,IACR,wBAAQ7C,UAAU,qBAAqBI,KAAK,SAA5C,SACI,qBAAKJ,UAAU,gCAGvB,cAAC,EAAD,U,QCwCD8C,MArEf,SAAoBlD,GAChB,IAAIU,EAAWC,cAUTwC,EAAiBnD,EAAMoD,kBAAkBpD,EAAMqD,OAkBrD,SAASC,IACLtD,EAAMuD,SAASvD,EAAMqD,OAGzB,OACI,sBAAKjD,UAAU,OAAf,UACI,sBAAKA,UAAU,aAAf,UACI,sBAAKA,UAAU,aAAf,UACI,oBAAIA,UAAU,cAAd,SAA6BJ,EAAMwD,SACnC,mBAAGpD,UAAU,gBAAb,SAlChB,SAA0BqD,GACtB,IAAMC,EAAQC,KAAKC,MAAMH,EAAI,IACvBI,EAAUJ,EAAI,GACpB,MAAM,GAAN,OAAUC,EAAQ,EAAR,UAAeA,EAAf,WAA2B,IAArC,OAA0CG,EAA1C,UA+B0CC,CAAiB9D,EAAM+D,eAGlC,YAAtBrD,EAASS,WAA2BgC,GACjC,wBAAQ/C,UAAU,oBAAoBE,QA7BtD,WACIN,EAAMgE,OAAO,CACTC,QAASjE,EAAMqD,MAAMY,QACrBC,SAAUlE,EAAMqD,MAAMa,SACtBH,SAAU/D,EAAMqD,MAAMU,SACtBI,KAAMnE,EAAMqD,MAAMc,KAClBC,YAAapE,EAAMqD,MAAMe,YACzBC,MAAOzE,cAAcI,EAAMqD,MAAMgB,MACjCC,QAAStE,EAAMqD,MAAMiB,QACrBd,OAAQxD,EAAMqD,MAAMG,OACpBe,OAAQvE,EAAMqD,MAAMkB,OACpBC,UAAW5E,cAAcI,EAAMqD,MAAMmB,UACrCC,QAASzE,EAAMqD,MAAMoB,WAiBb,SACI,qBAAKrE,UAAU,sBAEA,YAAtBM,EAASS,UAA0BgC,GAChC,wBAAQ/C,UAAU,6CAA6CE,QAASgD,EAAxE,SACI,qBAAKlD,UAAU,6CAEA,kBAAtBM,EAASS,UACN,wBAAQf,UAAU,oBAAoBE,QAASgD,EAA/C,SACI,qBAAKlD,UAAU,+BAI3B,mBACAA,UAAU,qBACVqB,KAAMzB,EAAM0E,YACZzC,OAAO,SACPP,IAAI,aAJJ,SAKI,qBACAtB,UAAU,cACVuE,MAAO,CAAEC,gBAAgB,mCAAD,OAAqC5E,EAAMqE,MAA3C,cCMzBQ,MAnEf,SAAwB7E,GACpB,IAAIU,EAAWC,cAMf,EAA4CK,mBAAS,IAArD,mBAAO8D,EAAP,KAAuBC,EAAvB,KAsBA,OARAhE,IAAMiE,WAAU,WACZ,IAbuBC,EAajBC,EAAmBC,OAAOC,WAC1BC,EAAsB1B,KAAK2B,IAAItF,EAAMuF,MAAMC,QAd1BP,EAcoDC,EAbxED,EAPe,KAQP,CAACQ,MAAO,IAEfR,EAVc,MAUgBA,EAThB,IAUP,CAACQ,MAAO,GAEfR,EAZc,KAYgBA,EAXhB,IAYP,CAACQ,MAAO,QADnB,GAO6FA,OAC7FV,EAAkB/E,EAAMuF,MAAMG,MAAM,EAAGL,MAGxC,CAACrF,EAAMuF,QAGN,0BAASnF,UAAU,eAAnB,UACKJ,EAAM2F,SACD,mBAAGvF,UAAU,0BAAb,+IACA,GACN,qBAAKA,UAAU,0BAAf,SACK0E,EAAec,KAAI,SAACC,GACrB,OACI,cAAC,EAAD,CAEAxC,MAAOwC,EACPrC,OAAQqC,EAAKrC,OACbO,SAAU8B,EAAK9B,SACfW,YAAamB,EAAKnB,YAClBL,MAAOwB,EAAKxB,MAAMyB,IAClB9B,OAAQhE,EAAMgE,OACd+B,aAAc/F,EAAM+F,aACpBxC,SAAUvD,EAAMuD,SAChBH,kBAAmBpD,EAAMoD,mBATpByC,EAAK/D,SAclB,wBACAtB,KAAK,SACLJ,UAAS,UAA2B,YAAtBM,EAASS,SACL,4BACA,kCAFT,qCAGKnB,EAAMgG,aACF,GACA,kCAPlB,oCC3BGC,MAtBf,SAAgBjG,GACZ,OACI,qCACI,cAAC,EAAD,IACA,cAAC,EAAD,CACA6C,SAAU7C,EAAM6C,WAGhB,cAAC,EAAD,CACA0C,MAAOvF,EAAMuF,MACbW,WAAYlG,EAAMkG,WAClBP,SAAU3F,EAAM2F,SAChB3B,OAAQhE,EAAMgE,OACd+B,aAAc/F,EAAM+F,aACpBxC,SAAUvD,EAAMuD,SAChBH,kBAAmBpD,EAAMoD,oBAEzB,cAAC,EAAD,QCEG+C,MAnBf,SAAqBnG,GACjB,OACI,qCACI,cAAC,EAAD,IACA,cAAC,EAAD,CACA6C,SAAU7C,EAAM6C,WAGhB,cAAC,EAAD,CACA0C,MAAOvF,EAAMuF,MACbW,WAAYlG,EAAMkG,WAClBP,SAAU3F,EAAM2F,SAChBpC,SAAUvD,EAAMuD,WAEhB,cAAC,EAAD,Q,QCQG6C,MA7Bf,SAAuBC,GACnB,MAAoCrF,mBAAS,CACzCsF,UAAW,GACXC,WAAY,GACZC,cAAe,KAHnB,mBAAOC,EAAP,KAAmBC,EAAnB,KAKA,EAA4B1F,mBAAS,IAArC,mBAAO2F,EAAP,KAAeC,EAAf,KACA,EAAwC5F,oBAAS,GAAjD,mBAAO6F,EAAP,KAAqBC,EAArB,KAEMC,EAAoBC,uBAAY,SAACrE,GACnC,MAAwBA,EAAEV,OAAlBK,EAAR,EAAQA,KAAMD,EAAd,EAAcA,MACdqE,GAAc,SAAAO,GAAS,kCAASA,GAAT,kBAAqB3E,EAAOD,OACnDuE,GAAU,SAAAD,GAAM,kCAASA,GAAT,kBAAkBrE,EAAOK,EAAEV,OAAOiF,uBAClDJ,EAAgBnE,EAAEV,OAAOkF,QAAQ,QAAQC,mBAC1C,CAACV,IAIJ,MAAO,CACHD,aACAC,gBACAC,SACAC,YACAC,eACAC,kBACAC,sBC2COM,MAhEf,SAAiBrH,GAEb,IACIyG,EAKAa,EALAb,WACAC,EAIAY,EAJAZ,cACAC,EAGAW,EAHAX,OACAG,EAEAQ,EAFAR,gBACAC,EACAO,EADAP,kBAQJ,OALAhG,IAAMiE,WAAU,WACZ8B,GAAgB,GAChBJ,EAAc1G,EAAMuH,eACrB,CAACvH,EAAMuH,YAAab,EAAeI,IAGjC,0BAAS1G,UAAU,UAAnB,UACG,cAAC,EAAD,IAEA,sBAAKA,UAAU,qBAAf,UACI,qBAAIA,UAAU,iBAAd,mDAAwCJ,EAAMqG,SAAS/D,KAAvD,OACA,uBAAMlC,UAAU,yCAAhB,UACI,sBAAKA,UAAU,yCAAf,UACI,uBAAOA,UAAU,qBAAjB,gCACA,uBACAA,UAAU,qBACV0B,GAAG,OACH0F,UAAU,IACVlF,KAAK,OACL9B,KAAK,OACLwC,YAAY,gEACZX,MAAOoE,EAAWH,WAAa,GAC/BvD,SAAUgE,EACV9D,UAAQ,IAER,sBACA7C,UAAU,wBACV0B,GAAG,6BAFH,SAEiC6E,EAAOL,eAE5C,sBAAKlG,UAAU,0CAAf,UACI,uBAAOA,UAAU,qBAAjB,oBACA,uBACAA,UAAU,qBACV0B,GAAG,OACH0F,UAAU,IACVlF,KAAK,QACL9B,KAAK,QACLwC,YAAY,qGACZX,MAAOoE,EAAWF,YAAc,GAChCxD,SAAUgE,EACV9D,UAAQ,IAER,sBACA7C,UAAU,wBACV0B,GAAG,8BAFH,SAEkC6E,EAAOJ,gBAE7C,wBAAQnG,UAAU,uCAAuCI,KAAK,SAA9D,4FACA,wBAAQJ,UAAU,uCAAuCI,KAAK,SAA9D,oHCdLiH,MA3Cf,SAAkBzH,GACd,IAAIU,EAAWC,cAEf,OACQ,sBAAKP,UAAU,sBAAf,UACI,cAAC,IAAD,CAAMF,GAAG,IAAIE,UAAU,iBAAvB,SAAwC,qBAAKgB,IAAKC,EAAMC,IAAI,4FAC5D,oBAAIlB,UAAU,kBAAd,SAAiCJ,EAAM0H,QAEvC,uBACAtH,UAAU,iBACV0B,GAAE,UAAK9B,EAAMsC,KAAX,SACFI,SAAU1C,EAAM0C,SAHhB,UAKK1C,EAAM2H,SAEP,wBACAvH,UAAS,UAA2B,YAAtBM,EAASS,SACL,0CACA,oBAClBX,KAAK,SACLsB,GAAG,mBALH,SAOK9B,EAAM4H,gBAIf,sBAAKxH,UAAU,oBAAf,UACI,mBAAGA,UAAU,iBAAb,SAA+BJ,EAAM6H,eACrC,cAAC,IAAD,CACA3H,GAAE,UAA2B,YAAtBQ,EAASS,SACN,UACA,WACVf,UAAS,UAA2B,YAAtBM,EAASS,SACb,uCACA,wCANV,SAQKnB,EAAM8H,sBCiDhBC,MArFf,SAAkB/H,GACd,IACI2G,EACAP,EAAc,IADdO,OAGJ,EAAwB5F,IAAMC,SAAS,IAAvC,mBAAOsB,EAAP,KAAa0F,EAAb,KACA,EAA0BjH,IAAMC,SAAS,IAAzC,mBAAOiH,EAAP,KAAcC,EAAd,KACA,EAAgCnH,IAAMC,SAAS,IAA/C,mBAAOmH,EAAP,KAAiBC,EAAjB,KAmBA,OACI,yBAAShI,UAAU,WAAnB,SACI,eAAC,EAAD,CACAkC,KAAK,WACLoF,MAAM,+FACNE,WAAW,+GACXC,aAAa,uHACbC,aAAa,iCACbpF,SAbR,SAAsBC,GAClBA,EAAEC,iBACF5C,EAAMqI,WAAW,CAAE/F,OAAM2F,QAAOE,cAK5B,UAQI,mBAAG/H,UAAU,sBAAb,gCACI,uBACAkC,KAAK,eACLR,GAAG,gBACH1B,UAAU,uCACV4C,YAAY,gEACZxC,KAAK,OACLyC,UAAQ,EACRuE,UAAU,IACVnF,MAAOC,GAAQ,GACfS,SArChB,SAA0BJ,GACtBqF,EAAQrF,EAAEV,OAAOI,UAqCL,sBACAjC,UAAU,wBACV0B,GAAG,6BAFH,SAEiC6E,EAAO2B,eAExC,mBAAGlI,UAAU,sBAAb,oBACA,uBACAkC,KAAK,gBACLR,GAAG,iBACH1B,UAAU,wCACV4C,YAAY,qGACZxC,KAAK,QACLyC,UAAQ,EACRZ,MAAO4F,GAAS,GAChBlF,SA/ChB,SAA2BJ,GACvBuF,EAASvF,EAAEV,OAAOI,UA+CN,sBACAjC,UAAU,wBACV0B,GAAG,8BAFH,SAEkC6E,EAAO4B,gBAEzC,mBAAGnI,UAAU,sBAAb,kDACA,uBACAkC,KAAK,mBACLR,GAAG,oBACH1B,UAAU,2CACV4C,YAAY,kFACZxC,KAAK,WACLyC,UAAQ,EACRuE,UAAU,IACVnF,MAAO8F,GAAY,GACnBpF,SA1DhB,SAA8BJ,GAC1ByF,EAAYzF,EAAEV,OAAOI,UA0DT,sBACAjC,UAAU,wBACV0B,GAAG,0BAFH,SAE8B6E,EAAO6B,yBCd1CC,MAhEf,SAAezI,GACX,IACI2G,EACAP,EAAc,IADdO,OAGJ,EAA0B5F,IAAMC,SAAS,IAAzC,mBAAOiH,EAAP,KAAcC,EAAd,KACA,EAAgCnH,IAAMC,SAAS,IAA/C,mBAAOmH,EAAP,KAAiBC,EAAjB,KAeA,OACI,yBAAShI,UAAU,QAAnB,SACI,eAAC,EAAD,CACAkC,KAAK,QACLoF,MAAM,iEACNE,WAAW,iCACXC,aAAa,oIACbC,aAAa,qEACbpF,SAbR,SAAsBC,GAClBA,EAAEC,iBACF5C,EAAM0I,QAAQ,CAAET,QAAOE,cAKnB,UAQI,mBAAG/H,UAAU,sBAAb,oBACI,uBACAkC,KAAK,aACLR,GAAG,cACH1B,UAAU,wCACV4C,YAAY,qGACZxC,KAAK,QACLyC,UAAQ,EACRZ,MAAO4F,GAAS,GAChBlF,SAhChB,SAA2BJ,GACvBuF,EAASvF,EAAEV,OAAOI,UAgCN,sBACAjC,UAAU,wBACV0B,GAAG,oBAFH,SAEwB6E,EAAOgC,aAE/B,mBAAGvI,UAAU,sBAAb,kDACA,uBACAkC,KAAK,gBACLR,GAAG,iBACH1B,UAAU,2CACV4C,YAAY,kFACZxC,KAAK,WACLyC,UAAQ,EACRuE,UAAU,IACVnF,MAAO8F,GAAY,GACnBpF,SA3ChB,SAA8BJ,GAC1ByF,EAAYzF,EAAEV,OAAOI,UA2CT,sBACAjC,UAAU,wBACV0B,GAAG,uBAFH,SAE2B6E,EAAOiC,sBCzCvCC,MApBf,SAAkB7I,GACd,IAAM8I,EAAUC,cAEhB,OACI,0BAAS3I,UAAU,YAAnB,UACI,sBAAKA,UAAU,uBAAf,UACI,oBAAIA,UAAU,mBAAd,iBACA,mBAAGA,UAAU,sBAAb,yHAEJ,wBACIA,UAAU,oBACVI,KAAK,SACLF,QAAS,kBAAMwI,EAAQE,UAH3B,gDCVCC,EAAqBlI,IAAMmI,gB,gBCiCzBC,EAVG,I,WAtBd,cAAiC,IAApBC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC5BC,KAAKF,QAAUA,EACfE,KAAKD,QAAUA,E,mDAInB,WACI,OAAOE,MAAM,GAAD,OAAID,KAAKF,SAAW,CAC9BI,OAAQ,MACRH,QAASC,KAAKD,UAEfI,KAAKH,KAAKI,kB,4BAGf,SAAeC,GACX,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,a,KAI3B,CAAc,CAC5BZ,QAASzJ,gBACT0J,QAAS,CACP,OAAU,mBAEV,eAAgB,sBCyIPY,EAVC,I,WA1JZ,cAAiC,IAApBb,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC5BC,KAAKF,QAAUA,EACfE,KAAKD,QAAUA,E,+CAInB,WACI,OAAOE,MAAM,GAAD,OAAID,KAAKF,QAAT,aAA6B,CACvCI,OAAQ,MACRH,QAASC,KAAKD,UAEfI,KAAKH,KAAKI,kB,yBAIf,SAAYQ,GACR,OAAOX,MAAM,GAAD,OAAID,KAAKF,QAAT,aAA6B,CACvCI,OAAQ,QACRH,QAASC,KAAKD,QACdc,KAAMC,KAAKC,UAAU,CACnB/H,KAAM4H,EAAK5H,KACXgI,MAAOJ,EAAKI,UAGfb,KAAKH,KAAKI,kB,uBAIf,SAAUrG,GACN,OAAOkG,MAAM,GAAD,OAAID,KAAKF,QAAT,WAA2B,CACnCI,OAAQ,OACRH,QAASC,KAAKD,QACdc,KAAMC,KAAKC,UAAU,CACjBpG,QAASZ,EAAMY,QACfC,SAAUb,EAAMa,SAChBH,SAAUV,EAAMU,SAChBI,KAAMd,EAAMc,KACZC,YAAaf,EAAMe,YACnBC,MAAOhB,EAAMgB,MACbC,QAASjB,EAAMiB,QACfd,OAAQH,EAAMG,OACde,OAAQlB,EAAMkB,OACdC,UAAWnB,EAAMmB,UACjBC,QAASpB,EAAMoB,YAGpBgF,KAAKH,KAAKI,kB,yBAIjB,SAAY5H,GACR,OAAOyH,MAAM,GAAD,OAAID,KAAKF,QAAT,mBAA2BtH,GAAM,CAC3C0H,OAAQ,SACRH,QAASC,KAAKD,UAEfI,KAAKH,KAAKI,kB,sBAYf,SAAUpH,EAAM2F,EAAOE,GACnB,OAAOoB,MAAM,GAAD,OAAID,KAAKF,QAAT,WAA2B,CACnCI,OAAQ,OACRH,QAASC,KAAKiB,SACdJ,KAAMC,KAAKC,UAAU,CAAE/H,OAAM2F,QAAOE,eAEvCsB,MAAK,SAACE,GAEH,GADAa,QAAQC,IAAId,GACM,MAAfA,EAAIK,OACH,OAAOL,EAAIE,OAEG,MAAfF,EAAIK,QACHQ,QAAQC,IAAI,gQAEE,MAAfd,EAAIK,QACHQ,QAAQC,IAAI,kTAGnBhB,MAAK,SAACE,GACH,OAAOA,KAEVe,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,Q,uBAIhC,SAAW1C,EAAOE,GACd,OAAOoB,MAAM,GAAD,OAAID,KAAKF,QAAT,WAA2B,CACnCI,OAAQ,OACRH,QAASC,KAAKiB,SACdJ,KAAMC,KAAKC,UAAU,CAACpC,QAAOE,eAEhCsB,MAAK,SAACE,GACH,GAAkB,MAAfA,EAAIK,OACH,OAAOL,EAAIE,OAEG,MAAfF,EAAIK,QACHQ,QAAQC,IAAI,sIAEE,MAAfd,EAAIK,QACHQ,QAAQC,IAAI,8IAGnBhB,MAAK,SAACE,GACH,GAAGA,EAAIiB,MAEH,OADAC,aAAaC,QAAQ,MAAOnB,EAAIiB,OACzBjB,KAGde,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,Q,wBAKhC,SAAYC,GACR,OAAOrB,MAAM,GAAD,OAAID,KAAKF,QAAT,aAA6B,CACrCI,OAAQ,MACRH,QAAS,CACL,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BuB,MAGlCnB,MAAK,SAACE,GACH,GAAkB,MAAfA,EAAIK,OACH,OAAOL,EAAIE,OAEG,MAAfF,EAAIK,QACHQ,QAAQC,IAAI,0OAEE,MAAfd,EAAIK,QACHQ,QAAQC,IAAI,qKAGnBhB,MAAK,SAACS,GACH,OAAOA,KAEVQ,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,Q,4BAGhC,SAAehB,GACX,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,gDAA0BJ,EAAIK,a,KAI7B,CAAY,CACxBZ,QAASxJ,cACTyJ,QAAS,CACP,OAAU,mBACV,cAAgB,UAAhB,OAA2BwB,aAAaE,QAAQ,QAChD,eAAgB,sBCwJPC,MArSf,WACE,IAAMlC,EAAUC,cACVrI,EAAWC,cAGjB,EAAsCI,IAAMC,SAAS,IAArD,mBAAOuG,EAAP,KAAoB0D,EAApB,KACA,EAAgClK,IAAMC,UAAS,GAA/C,mBAAOf,EAAP,KAAiBiL,EAAjB,KACA,EAAgCnK,IAAMC,SAAS,IAA/C,mBAAiBmK,GAAjB,WAGA,EAA4BpK,IAAMC,SAAS,IAA3C,mBAAOoK,EAAP,KAAeC,EAAf,KACA,EAAwCtK,IAAMC,SAAS,IAAvD,mBAAOsK,EAAP,KAAqBC,EAArB,KACA,EAAwCxK,IAAMC,UAAS,GAAvD,mBAAOgF,EAAP,KAAqBwF,EAArB,KACA,EAAgDzK,IAAMC,UAAS,GAA/D,mBAAOyK,EAAP,KAAyBC,EAAzB,KACA,EAAsC3K,IAAMC,SAAS,IAArD,mBAAO2K,EAAP,KAAoBC,EAApB,KAyMA,SAAStI,EAAYD,GACnB,IAAMoB,EAAUpB,EAAMoB,QAChBoH,EAAgBF,EAAYG,MAAK,SAACjG,GAAD,OAAUA,EAAKpB,UAAYA,KAElEwF,EAAQ3G,YAAY,CAACyI,IAAKF,EAAcE,MACnCtC,MAAK,SAACuC,GACH,IAAKA,EACD,MAAM,IAAIC,MAAM,wMAEhB,IAAMC,EAAgBP,EAAYQ,QAAO,SAACC,GAAD,OAAOA,EAAE3H,UAAYA,KAC9DmH,EAAeM,MAGtBxB,OAAM,SAACC,GACJH,QAAQC,IAAR,oHAAoCE,OAK9C,OA5JA5J,IAAMiE,WAAU,WACd,IAAMqH,EAAe3L,EAASS,SACxByJ,EAAQC,aAAaE,QAAQ,SACnCP,QAAQC,IAAIG,GAETA,GACDX,EAAQqC,WAAW1B,GAChBnB,MAAK,SAACE,GACH,IAAGA,EAWD,OAFAkB,aAAa0B,WAAW,cACxBzD,EAAQ0D,KAAK,KATbrB,EAAY,CACRlD,MAAO0B,EAAI1B,MACXnG,GAAI6H,EAAIoC,MAGZb,GAAY,GACZpC,EAAQ0D,KAAKH,MAOlB3B,OAAM,SAACC,GACJH,QAAQC,IAAR,qBAA0BE,IAC1B7B,EAAQ0D,KAAK,UAGpB,IAGHzL,IAAMiE,WAAU,WACX/E,GACCgK,EAAQwC,cACPhD,MAAK,SAACiD,GACHzB,EAAeyB,MAElBhC,OAAM,SAACC,GACJH,QAAQC,IAAR,qBAA0BE,SAIjC,CAAC1K,IAUJc,IAAMiE,WAAU,WACdmE,EAAUwD,kBACPlD,MAAK,SAAC2B,GACLC,EAAUD,MAEXV,OAAM,SAACC,GACNH,QAAQC,IAAR,qBAA0BE,SAW7B,IAyFD,cAAC1B,EAAmB2D,SAApB,CAA6BvK,MAAOkF,EAApC,SACE,qBAAKnH,UAAU,OAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOyM,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,EAAD,MAGF,cAAC,EAAD,CAAgBA,KAAK,UAArB,SACE,cAAC,EAAD,CACA7M,SAAUA,EACVsF,MAAO+F,EACPzI,SAjGV,SAAsBkK,GAEpB,IAAMvK,EAAUuK,EAAKC,cACfC,EAAS,GACf7B,EAAO8B,SAAQ,SAACrH,GACM,OAAhBA,EAAKrC,QAAmBqC,EAAKrC,OAAOwJ,cAAcG,SAAS3K,IAE5C,OAAhBqD,EAAKtB,QAAmBsB,EAAKtB,OAAOyI,cAAcG,SAAS3K,IAC1DyK,EAAOT,KAAK3G,GACZ6F,GAAoB,GACpBF,GAAgB,GAChBD,EAAgB0B,GAChBpC,aAAaC,QAAQ,oBAAqBV,KAAKC,UAAU4C,KAEhDA,EAAOzH,OAAS,IACzBkG,GAAoB,GACpBF,GAAgB,GAChBD,EAAgB,SAiFdrF,WAAYF,EACZL,SAAU8F,EACVzH,OA9CV,SAAoBX,GAClB4G,EAAQmD,UAAU/J,GACfoG,MAAK,SAAC4D,GACLxC,aAAaC,QAAQ,aAAcV,KAAKC,UAAWgD,EAAU,CAAIA,GAAJ,mBAAmB1B,MAChFC,EAAeyB,MAEhB3C,OAAM,SAACC,GACNH,QAAQC,IAAR,qBAA0BE,QAwCtB5E,aAvDW,SAAC1C,GAAD,OAAWsI,EAAY2B,MAAK,SAACzH,GAAD,OAAUA,EAAK/D,KAAOuB,EAAMvB,OAwDnEyB,SAAUD,EACVF,kBAvDV,SAA2BC,GACzB,OAAQA,EAAMkK,QAAU5B,EAAY2B,MAChC,SAACD,GAAD,OAAgBA,EAAW5I,UAAYpB,EAAMvB,WAyD3C,cAAC,EAAD,CAAgBgL,KAAK,gBAArB,SACE,cAAC,EAAD,CACA7M,SAAUA,EACV4C,SAvFV,SAA2BkK,GAEzB,IAAMvK,EAAUuK,EAAKC,cACfC,EAAS,GACftB,EAAYuB,SAAQ,SAACrH,GACE,OAAhBA,EAAKrC,QAAmBqC,EAAKrC,OAAOwJ,cAAcG,SAAS3K,IAE3C,OAAhBqD,EAAKtB,QAAmBsB,EAAKtB,OAAOyI,cAAcG,SAAS3K,IAC1DyK,EAAOT,KAAK3G,GACZ6F,GAAoB,GACpBF,GAAgB,GAChBI,EAAeqB,GACfpC,aAAaC,QAAQ,yBAA0BV,KAAKC,UAAU4C,KAEzDA,EAAOzH,OAAS,IACrBkG,GAAoB,GACpBF,GAAgB,GAChBI,EAAe,SAuEfrG,MAAOoG,EACPzF,WAAYF,EACZwH,QAAS/B,EACTlI,SAAUD,MAGZ,cAAC,EAAD,CAAgBwJ,KAAK,WAArB,SACE,cAAC,EAAD,CACA7M,SAAUA,EACVsH,YAAaA,MAIf,cAAC,IAAD,CAAOuF,KAAK,UAAZ,SACE,cAAC,EAAD,CACApE,QAlPV,YAAyC,IAAnBT,EAAkB,EAAlBA,MAAOE,EAAW,EAAXA,SAC3B8B,EAAQwD,UAAUxF,EAAOE,GACxBsB,MAAK,SAACE,GACAA,IACDkB,aAAaC,QAAQ,QAASnB,EAAIiB,OAClCM,GAAY,GACZV,QAAQC,IAAI,6EACZ3B,EAAQ0D,KAAK,eAGlB9B,OAAM,SAACC,GACJH,QAAQC,IAAR,qBAA0BE,YA0OxB,cAAC,IAAD,CAAOmC,KAAK,UAAZ,SACE,cAAC,EAAD,CACAzE,WAvQV,YAAkD,IAAzB/F,EAAwB,EAAxBA,KAAM2F,EAAkB,EAAlBA,MAAOE,EAAW,EAAXA,SACpC8B,EAAQyD,SAASpL,EAAM2F,EAAOE,GAC7BsB,MAAK,SAACE,GACAA,GACDa,QAAQC,IAAI,uHACZ3B,EAAQ0D,KAAK,YAEbhC,QAAQC,IAAI,8GAGjBC,OAAM,SAACC,GACJH,QAAQC,IAAR,qBAA0BE,YA+PxB,cAAC,IAAD,CAAOmC,KAAK,IAAZ,SACE,cAAC,EAAD,cCrSGa,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBpE,MAAK,YAAkD,IAA/CqE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.3b238688.chunk.js","sourcesContent":["const moviesBaseUrl = 'https://api.nomoreparties.co/beatfilm-movies';\nconst mainBaseUrl = 'https://api.dtakush.diploma.nomoredomains.monster';\n\nmodule.exports = {\n    moviesBaseUrl,\n    mainBaseUrl,\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n    return (\n        <Route>\n            {props.loggedIn ? <Component {...props} /> : <Redirect to=\"/signin\"/>}\n        </Route>\n    );\n}\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/logo.8f97642a.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nfunction NavigationPopup(props) {\n    return (\n        <section className={`nav-popup ${props.isOpen ? 'nav-popup_open' : ''}`}>\n            <div className=\"nav-popup__container\">\n            <button className=\"nav-popup__close-button\" onClick={props.onClose} />\n                <ul className=\"nav-popup__links\">\n                    <li className=\"nav-popup__link\">\n                        <NavLink\n                        to=\"/\"\n                        className=\"nav-popup__nav nav-popup__link_main\"\n                        >Главная</NavLink>\n                    </li>\n                    <li className=\"nav-popup__link\">\n                        <NavLink\n                        to=\"/movies\"\n                        className=\"nav-popup__nav nav-popup__link_movies\"\n                        >Фильмы</NavLink>\n                    </li>\n                    <li className=\"nav-popup__link\">\n                        <NavLink\n                        to=\"/saved-movies\"\n                        className=\"nav-popup__nav nav-popup__nav_saved-movies\"\n                        >Сохраненные фильмы</NavLink>\n                    </li>\n                </ul>\n                <div className=\"nav-popup__accaunt\">\n                    <NavLink\n                    to=\"/profile\"\n                    className=\"header__link header__profile-link\"\n                    >Аккаунт\n                        <button className=\"header__profile-button\" type=\"button\" />\n                    </NavLink>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default NavigationPopup;","import React from 'react';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { useMediaQuery } from \"react-responsive\";\n\nimport logo from '../../images/logo.svg';\n\nimport NavigationPopup from '../NavigationPopup/NavigationPopup';\n\nfunction Header(props) {\n    let location = useLocation();\n    const isMobile = useMediaQuery({ query: \"(max-width: 1000px)\" });\n\n    const [isMenuPopupOpen, setIsMenuPopupOpen] = React.useState(false);\n\n\n    //Открытие попапа аватара\n    function handleMenuClick() {\n     setIsMenuPopupOpen(!isMenuPopupOpen);\n   }\n \n   function closePopup() {\n     setIsMenuPopupOpen(false);\n   }\n\n    return (\n        <header className={`${location.pathname === '/' ? \"header\" : \"header header_loggedin\"}`}>\n            <div className=\"header__info\">\n            <NavLink to=\"/\" className=\"header__logo\"><img src={logo} alt=\"Логотип проекта\"/></NavLink>\n                {location.pathname === '/' ? \n                    <div className=\"header__nav\">\n                        <NavLink to=\"/signup\" className=\"header__link header__signup\">Регистрация</NavLink>\n                        <NavLink to=\"/signin\" className=\"header__link header__signin\">Войти</NavLink>\n                    </div>\n                :\n                    <>\n                        {isMobile ?\n                        <>\n                            <button\n                            className=\"header__nav-button\"\n                            type=\"button\"\n                            onClick={handleMenuClick} />\n                            <NavigationPopup\n                            isOpen={isMenuPopupOpen}\n                            onClose={closePopup} />\n                        </>\n                        :\n                        <div className=\"header__nav header__nav_loggedin\">\n                            <div className=\"header__links\">\n                                <NavLink to=\"/movies\" className=\"header__link header__movies-link\">Фильмы</NavLink>\n                                <NavLink to=\"/saved-movies\" className=\"header__link header__saved-movies-link\">Сохранённые фильмы</NavLink>\n                            </div>    \n                            <NavLink to=\"/profile\" className=\"header__link header__profile-link\">\n                                Аккаунт\n                                <button className=\"header__profile-button\" type=\"button\" />\n                            </NavLink>\n                        </div>\n                        }\n                    </>\n                }\n            </div>\n        </header>\n    )\n}\n\nexport default Header;","import React from 'react';\n\nfunction Promo(props) {\n    return (\n        <section className=\"promo\">\n            <div className=\"promo__image\">\n                <h1 className=\"promo__title\">Учебный проект студента факультета Веб-разработки.</h1>\n            </div>\n        </section>\n    )\n}\n\nexport default Promo;","import React from 'react';\n\nfunction NavTab(props) {\n    return (\n        //eslint-disable-next-line\n        <section className=\"nav-tab\">  \n            <a href=\"#project\" className=\"nav-tab__link\" rel=\"noreferrer\">О проекте</a>\n            <a href=\"#techs\" className=\"nav-tab__link\" rel=\"noreferrer\">Технологии</a>\n            <a href=\"#me\" className=\"nav-tab__link\" rel=\"noreferrer\">Студент</a>\n        </section>\n    )\n}\n\nexport default NavTab;","import React from 'react';\n\nfunction Subtitle(props) {\n    return (\n        <div className=\"subtitle-block\">\n            <h3 className=\"subtitle\">{props.subtitle}</h3>\n        </div>\n    )\n}\n\nexport default Subtitle;","import React from 'react';\n\n// Компоненты\nimport Subtitle from '../Subtitle/Subtitle';\n\nfunction AboutProject(props) {\n    return (\n        <section id=\"project\" className=\"about-project\">\n            <div className=\"about-project__container\">\n                <Subtitle\n                    subtitle=\"О проекте\"\n                />\n                <div className=\"about-project__text-container\">\n                    <article className=\"about-project__text-block\">\n                        <h4 className=\"about-project__subtitle\">Дипломный проект включал 5 этапов</h4>\n                        <p className=\"about-project__text\">Составление плана, работу над бэкендом, вёрстку, добавление функциональности и финальные доработки.</p>\n                    </article>\n                    <article className=\"about-project__text-block\">\n                        <h4 className=\"about-project__subtitle\">На выполнение диплома ушло 5 недель</h4>\n                        <p className=\"about-project__text\">У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было соблюдать, чтобы успешно защититься.</p>\n                    </article>\n                </div>\n                <div className=\"about-project__line-container\">\n                        <div className=\"about-project__line about-project__color-line\">1 неделя</div>\n                        <div className=\"about-project__line about-project__grey-line\">4 недели</div>\n                        <p className=\"about-project__line-text\">Back-end</p>\n\n                        <p className=\"about-project__line-text\">Front-end</p>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default AboutProject;","import React from 'react';\n\n// Компоненты\nimport Subtitle from '../Subtitle/Subtitle';\n\nfunction Techs(props) {\n    return (\n        <section id=\"techs\" className=\"techs\">\n            <div className=\"techs__conteiner\">\n                <Subtitle\n                subtitle=\"Технологии\"\n                    />\n                \n                <h2 className=\"techs__title\">7 технологий</h2>\n                <p className=\"techs__subtitle\">На курсе веб-разработки мы освоили технологии, которые применили в дипломном проекте.</p>\n                <div className=\"techs__blocks\">\n                    <div className=\"techs__block\">HTML</div>\n                    <div className=\"techs__block\">CSS</div>\n                    <div className=\"techs__block\">JS</div>\n                    <div className=\"techs__block\">React</div>\n                    <div className=\"techs__block\">Git</div>\n                    <div className=\"techs__block\">Express.js</div>\n                    <div className=\"techs__block\">mongoDB</div>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default Techs;","import React from 'react';\n\n// Компоненты\nimport Subtitle from '../Subtitle/Subtitle';\n\nfunction AboutMe(props) {\n    return (\n        <section id=\"me\" className=\"about-me\">\n            <div className=\"about-me__conteiner\">\n                <Subtitle\n                        subtitle=\"Студент\"\n                    />\n                <div className=\"about-me__block\">\n                    <div className=\"about-me__text-block\">\n                        <h4 className=\"about-me__title\">Дарья</h4>\n                        <p className=\"about-me__subtitle\">Фронтенд-разработчик, 28 лет</p>\n                        <p className=\"about-me__text\">Привет, меня зовут Даша и так вышло, что я дизайнер.\n                                                        Больше чем за семь лет работы, я успела поработать\n                                                        как с монстрами рынка, так и помочь в наведении\n                                                        красоты и порядка начинающим брендам.</p>\n                        <div className=\"about-me__links\">\n                            <a className=\"about-me__link\" href=\"https://www.facebook.com/dashatakush\" target=\"_blank\" rel=\"noreferrer\">Facebook</a>\n                            <a className=\"about-me__link\" href=\"https://github.com/dtakush\" target=\"_blank\" rel=\"noreferrer\">GitHub</a>\n                            <a className=\"about-me__link\" href=\"https://www.instagram.com/dariatakush/\" target=\"_blank\" rel=\"noreferrer\">Instagram</a>\n                        </div>\n                    </div>\n                    <div className=\"about-me__photo\"></div>\n                </div>\n                <h5 className=\"about-me__portfolio\">Портфолио</h5>\n                <a className=\"about-me__web-link\"  href=\"https://github.com/dtakush/how-to-learn.git\" target=\"_blank\" rel=\"noreferrer\">\n                    <p className=\"about-me__web-link_title\">Статичный сайт</p>\n                    <div className=\"about-me__web-link_arrow\"></div>\n                </a>\n                <a className=\"about-me__web-link\" href=\"https://github.com/dtakush/mesto.git\" target=\"_blank\" rel=\"noreferrer\">\n                    <p className=\"about-me__web-link_title\">Адаптивный сайт</p>\n                    <div className=\"about-me__web-link_arrow\"></div>\n                </a>\n                <a className=\"about-me__web-link\" href=\"https://github.com/dtakush/react-mesto-api-full.git\" target=\"_blank\" rel=\"noreferrer\">\n                    <p className=\"about-me__web-link_title\">Одностраничное приложение</p>\n                    <div className=\"about-me__web-link_arrow\"></div>\n                </a>\n            </div>\n        </section>\n    )\n}\n\nexport default AboutMe;","import React from 'react';\n\nfunction Footer(props) {\n    return (\n        <section className=\"footer\">\n            <div className=\"footer__container\">\n                <p className=\"footer__disclaimer\">Учебный проект Яндекс.Практикум х BeatFilm.</p>\n                <div className=\"footer__line\"></div>\n                <div className=\"footer__block\">\n                    <p className=\"footer__date\">© 2021</p>\n\n                    <ul className=\"footer__links\">\n                        <li className=\"footer__link\"><a className=\"footer__text\" href=\"https://practicum.yandex.ru/\" target=\"_blank\" rel=\"noreferrer\">Яндекс.Практикум</a></li>\n                        <li className=\"footer__link\"><a className=\"footer__text\" href=\"https://github.com/yandex-praktikum\" target=\"_blank\" rel=\"noreferrer\">Github</a></li>\n                        <li className=\"footer__link\"><a className=\"footer__text\" href=\"https://www.facebook.com/yandex.practicum\" target=\"_blank\" rel=\"noreferrer\">Facebook</a></li>\n                    </ul>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default Footer;","import React from 'react';\n\n// Компоненты\nimport Header from '../Header/Header';\nimport Promo from '../Promo/Promo';\nimport NavTab from '../NavTab/NavTab';\nimport AboutProject from '../AboutProject/AboutProject';\nimport Techs from '../Techs/Techs';\nimport AboutMe from '../AboutMe/AboutMe';\nimport Footer from '../Footer/Footer';\n\nfunction Main(props) {\n    return (\n        <>\n            <Header />\n            <Promo />\n            <NavTab />\n            <AboutProject />\n            <Techs />\n            <AboutMe />\n            <Footer />\n        </>    \n    )\n}\n\nexport default Main;","import React from 'react';\n\nfunction FilterCheckbox(props) {\n    return (\n        <div className=\"checkbox\">\n            <p className=\"checkbox__text\">Короткометражки</p>\n            <div className=\"checkbox__container\">\n                <input type=\"checkbox\" value=\"None\" id=\"filter\" name=\"check\" className=\"checkbox__input\" />\n                <label className=\"checkbox__label\"></label>\n            </div>\n        </div>\n    )\n}\n\nexport default FilterCheckbox;","import React from 'react';\n\n// Компоненты\nimport FilterCheckbox from '../FilterCheckbox/FilterCheckbox';\n\nfunction SearchForm(props) {\n    const [keyword, setKeyword] = React.useState('');\n    function handleSearch(e) {\n        setKeyword(e.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onSearch(keyword);\n    }\n\n    return (\n        <section className=\"searchform\">\n            <div className=\"searchform__container\">\n                <form\n                className=\"searchform__form\"\n                onSubmit={handleSubmit}\n                noValidate>\n                    <input\n                    onChange={handleSearch}\n                    value={keyword || ''}\n                    id=\"search\"\n                    type=\"text\"\n                    className=\"searchform__input\"\n                    placeholder=\"Фильм\"\n                    required />\n                    <button className=\"searchform__button\" type='submit'>\n                        <div className=\"searchform__button_pic\"></div>\n                    </button>\n                </form>\n                <FilterCheckbox />\n            </div>\n        </section>\n        \n    )\n}\n\nexport default SearchForm;","import React from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { mainBaseUrl } from '../../utils/constants';\n\nfunction MoviesCard(props) {\n    let location = useLocation();\n    \n    //Изменение формата продолжительности\n    function durationToString(dur) {\n        const hours = Math.trunc(dur/60);\n        const minutes = dur%60;\n        return `${hours > 0 ? `${hours}ч ` : ''}${minutes}м`;\n    }\n\n    //Сохранение фильма\n    const isButtonActive = props.setMovieSavedIcon(props.movie);\n\n    function saveMovie() {\n        props.onSave({\n            country: props.movie.country,\n            director: props.movie.director,\n            duration: props.movie.duration,\n            year: props.movie.year,\n            description: props.movie.description,\n            image: mainBaseUrl + props.movie.image,\n            trailer: props.movie.trailer,\n            nameRU: props.movie.nameRU,\n            nameEN: props.movie.nameEN,\n            thumbnail: mainBaseUrl + props.movie.thumbnail,\n            movieId: props.movie.movieId,\n        })\n    }\n\n    function deleteMovie() {\n        props.onDelete(props.movie)\n    }\n\n    return (\n        <div className=\"card\">\n            <div className=\"card__menu\">\n                <div className=\"card__text\">\n                    <h5 className=\"card__title\">{props.nameRU}</h5>\n                    <p className=\"card__duraton\">{durationToString(props.duration)}</p>\n                </div>\n\n                {location.pathname === '/movies' && !isButtonActive && (\n                    <button className='card__save-button' onClick={saveMovie}>\n                        <div className='card__save-icon'></div>\n                    </button>)}\n                {location.pathname === '/movies' && isButtonActive && (\n                    <button className='card__save-button card__save-button_active' onClick={deleteMovie}>\n                        <div className='card__save-icon card__save-icon_active'></div>\n                    </button>)}\n                {location.pathname === '/saved-movies' && (\n                    <button className='card__save-button' onClick={deleteMovie}>\n                        <div className='card__save-icon_saved'></div>\n                    </button>)}\n\n            </div>\n            <a\n            className=\"card__trailer-link\"\n            href={props.trailerLink}\n            target=\"_blank\"\n            rel=\"noreferrer\">\n                <div\n                className=\"card__image\"\n                style={{ backgroundImage: `url(https://api.nomoreparties.co${props.image})`}}>\n                </div>\n            </a>\n        </div>\n    )\n}\n\nexport default MoviesCard;\n","import React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\n// Компоненты\nimport MoviesCard from '../MoviesCard/MoviesCard';\n\nfunction MoviesCardList(props) {\n    let location = useLocation();\n\n    const maxWindowSize = 1279;\n    const midWindowSize = 810;\n    const minWindowSize = 319;\n\n    const [renderedMovies, setRenderedMovies] = useState([]);\n\n    const getNumberOfMovies = (windowSize) => {\n        if(windowSize > maxWindowSize) {\n            return {first: 12};\n        }\n        if (windowSize < maxWindowSize && windowSize > midWindowSize) {\n            return {first: 8}\n        }\n        if (windowSize < midWindowSize && windowSize > minWindowSize) {\n            return {first: 5}\n        }\n    }\n\n    React.useEffect(() => {\n        const windowInnerWidth = window.innerWidth;\n        const totalNumberOfMovies = Math.min(props.cards.length, getNumberOfMovies(windowInnerWidth).first);\n        setRenderedMovies(props.cards.slice(0, totalNumberOfMovies));\n        /* console.log(windowInnerWidth); */\n        /* console.log(renderedMovies); */\n    }, [props.cards])\n\n    return (\n        <section className=\"movies-cards\">\n            {props.noResult\n                ? <p className=\"movies-cards__no-result\">Поиск не дал результатов</p>\n                : ''}\n            <div className=\"movies-cards__container\">\n                {renderedMovies.map((item) => {\n                return (\n                    <MoviesCard\n                    key={item.id}\n                    movie={item}\n                    nameRU={item.nameRU}\n                    duration={item.duration}\n                    trailerLink={item.trailerLink}\n                    image={item.image.url}\n                    onSave={props.onSave}\n                    isMovieSaved={props.isMovieSaved}\n                    onDelete={props.onDelete}\n                    setMovieSavedIcon={props.setMovieSavedIcon}\n                    />\n                    )\n                })}\n            </div>\n            <button\n            type=\"button\"\n            className={`${location.pathname === '/movies'\n                            ? \"movies-cards__more-button\"\n                            : \"movies-cards__more-button_saved\"}\n                        ${props.isButtonHide\n                            ? ''\n                            : 'movies-cards__more-button_hide'}`}\n            >\n                Ещё\n            </button>\n        </section>\n    )\n}\n\nexport default MoviesCardList;\n","import React from 'react';\n\n// Компоненты\nimport Header from '../Header/Header';\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\n\n\nfunction Movies(props) {\n    return (\n        <>\n            <Header />\n            <SearchForm\n            onSearch={props.onSearch}\n            />\n\n            <MoviesCardList\n            cards={props.cards}\n            hideButton={props.hideButton}\n            noResult={props.noResult}\n            onSave={props.onSave}\n            isMovieSaved={props.isMovieSaved}\n            onDelete={props.onDelete}\n            setMovieSavedIcon={props.setMovieSavedIcon}\n            />\n            <Footer />\n        </>    \n    )\n}\n\nexport default Movies;","import React from 'react';\n\n// Компоненты\nimport SearchForm from '../SearchForm/SearchForm';\nimport MoviesCardList from '../MoviesCardList/MoviesCardList';\nimport Footer from '../Footer/Footer';\nimport Header from '../Header/Header';\n\n\nfunction SavedMovies(props) {\n    return (\n        <>\n            <Header />\n            <SearchForm\n            onSearch={props.onSearch}\n            />\n\n            <MoviesCardList\n            cards={props.cards}\n            hideButton={props.hideButton}\n            noResult={props.noResult}\n            onDelete={props.onDelete}\n            />\n            <Footer />\n        </>    \n    )\n}\n\nexport default SavedMovies;","import { useState, useCallback } from 'react';\n\nfunction useValidation(userData) {\n    const [formValues, setFormValues] = useState({\n        inputName: '',\n        inputEmail: '',\n        inputPassword: ''\n    })\n    const [errors, setErrors] = useState({});\n    const [isInputValid, setIsInputValid] = useState(false);\n\n    const handleInputChange = useCallback((e) => {\n        const { name, value } = e.target;\n        setFormValues(prevState => ({...prevState, [name]: value}));\n        setErrors(errors => ({...errors, [name]: e.target.validationMessage}));\n        setIsInputValid(e.target.closest(\"form\").checkValidity());\n    }, [setFormValues]);\n\n    // const { inputName, inputEmail, inputPassword } = formValues;\n\n    return {\n        formValues,\n        setFormValues,\n        errors,\n        setErrors,\n        isInputValid,\n        setIsInputValid,\n        handleInputChange,\n    };\n}\n\nexport default useValidation;","import React from 'react';\n\n// Компоненты\nimport Header from '../Header/Header';\nimport formValidation from '../../utils/formValidation';\n\nfunction Profile(props) {\n\n    const {\n        formValues,\n        setFormValues,\n        errors,\n        setIsInputValid,\n        handleInputChange,\n    } = formValidation;\n\n    React.useEffect(() => {\n        setIsInputValid(true);\n        setFormValues(props.currentUser);\n    }, [props.currentUser, setFormValues, setIsInputValid]);\n\n    return (\n         <section className=\"profile\">\n            <Header />\n            \n            <div className=\"profile__container\">\n                <h2 className=\"profile__hello\">Привет, {props.userData.name}!</h2>\n                <form className=\"profile__edit-block profile__edit-name\">\n                    <div className=\"profile__edit-block profile__edit-name\">\n                        <lable className=\"profile__edit-text\">Имя</lable>\n                        <input\n                        className=\"profile__user-text\"\n                        id=\"name\"\n                        minLength=\"3\"\n                        name=\"name\"\n                        type=\"text\"\n                        placeholder=\"Введите имя\"\n                        value={formValues.inputName || ''}\n                        onChange={handleInputChange}\n                        required\n                        />\n                        <span\n                        className=\"entrance__input-error\"\n                        id=\"entrance__input-name-error\">{errors.inputName}</span>\n                    </div>\n                    <div className=\"profile__edit-block profile__edit-email\">\n                        <lable className=\"profile__edit-text\">E-mail</lable>\n                        <input\n                        className=\"profile__user-text\"\n                        id=\"name\"\n                        minLength=\"3\"\n                        name=\"email\"\n                        type=\"email\"\n                        placeholder=\"Введите свою почту\"\n                        value={formValues.inputEmail || ''}\n                        onChange={handleInputChange}\n                        required\n                        />\n                        <span\n                        className=\"entrance__input-error\"\n                        id=\"entrance__input-email-error\">{errors.inputEmail}</span>\n                    </div>\n                    <button className=\"profile__button profile__edit-button\" type=\"submit\">Редактировать</button>\n                    <button className=\"profile__button profile__exit-button\" type=\"button\">Выйти из аккаунта</button>  \n                </form>\n             </div>\n         </section>\n    )\n}\n\nexport default Profile;","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\n// Компоненты\nimport logo from '../../images/logo.svg';\n\nfunction Entrance(props) {\n    let location = useLocation();\n\n    return (\n            <div className=\"entrance__container\">\n                <Link to=\"/\" className=\"entrance__logo\"><img src={logo} alt=\"Логотип проекта\"/></Link>\n                <h3 className=\"entrance__hello\">{props.title}</h3>\n\n                <form\n                className=\"entrance__form\"\n                id={`${props.name}-form`}\n                onSubmit={props.onSubmit}>\n\n                    {props.children}\n                        \n                    <button\n                    className={`${location.pathname === '/signin' \n                                    ? \"entrance__button entrance__button-login\"\n                                    : \"entrance__button\"}`}\n                    type=\"submit\"\n                    id=\"entrance__submit\"\n                    >\n                        {props.buttonText}\n                    </button>\n                </form>\n\n                <div className=\"entrance__come-in\">\n                    <p className=\"entrance__text\">{props.entranceText}</p>\n                    <Link\n                    to={`${location.pathname === '/signin' \n                            ? \"/signup\"\n                            : \"/signin\"}`}\n                    className={`${location.pathname === '/signin' \n                            ? \"entrance__link entrance__signin-link\"\n                            : \"entrance__link entrance__signup-link\"}`}\n                     >               \n                        {props.entranceLink}\n                    </Link>\n                </div> \n            </div>\n    )\n}\n\nexport default Entrance;","import React from 'react';\nimport useValidation from '../../utils/formValidation';\n\n// Компоненты\nimport Entrance from '../Entrance/Entrance';\n\nfunction Register(props) {\n    const {\n        errors,\n    } = useValidation({});\n\n    const [name, setName] = React.useState(\"\");\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    \n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n    \n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n        \n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onRegister({ name, email, password });\n    }\n\n    return (\n        <section className=\"register\">\n            <Entrance\n            name=\"register\"\n            title='Добро пожаловать!'\n            buttonText='Зарегистрироваться'\n            entranceText='Уже зарегистрированы?'\n            entranceLink='Войти'\n            onSubmit={handleSubmit}\n            >\n                <p className=\"entrance__form-text\">Имя</p>\n                    <input\n                    name=\"registerName\"\n                    id=\"register-name\"\n                    className=\"entrance__input entrance__input-name\"\n                    placeholder=\"Введите имя\"\n                    type=\"text\"\n                    required\n                    minLength=\"3\"\n                    value={name || ''}\n                    onChange={handleChangeName} />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"entrance__input-name-error\">{errors.registerName}</span>\n\n                    <p className=\"entrance__form-text\">E-mail</p>\n                    <input\n                    name=\"registerEmail\"\n                    id=\"register-email\"\n                    className=\"entrance__input entrance__input-email\"\n                    placeholder=\"Введите свою почту\"\n                    type=\"email\"\n                    required\n                    value={email || ''}\n                    onChange={handleChangeEmail} />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"entrance__input-email-error\">{errors.registerEmail}</span>\n\n                    <p className=\"entrance__form-text\">Пароль</p>\n                    <input\n                    name=\"registerPassword\"\n                    id=\"register-password\"\n                    className=\"entrance__input entrance__input-password\"\n                    placeholder=\"Введите пароль\"\n                    type=\"password\"\n                    required\n                    minLength=\"5\"\n                    value={password || ''}\n                    onChange={handleChangePassword} />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"register-password-error\">{errors.registerPassword}</span>\n\n            </Entrance>\n        </section>\n    )\n}\n\nexport default Register;","import React from 'react';\nimport useValidation from '../../utils/formValidation';\n\n// Компоненты\nimport Entrance from '../Entrance/Entrance';\n\nfunction Login(props) {\n    const {\n        errors,\n    } = useValidation({});\n\n    const [email, setEmail] = React.useState(\"\");\n    const [password, setPassword] = React.useState(\"\");\n    \n    function handleChangeEmail(e) {\n        setEmail(e.target.value);\n    }\n        \n    function handleChangePassword(e) {\n        setPassword(e.target.value);\n    }\n    \n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onLogin({ email, password });\n    }\n\n    return (\n        <section className=\"login\">\n            <Entrance\n            name=\"login\"\n            title='Рады видеть!'\n            buttonText='Войти'\n            entranceText='Ещё не зарегистрированы?'\n            entranceLink='Регистрация'\n            onSubmit={handleSubmit}\n            >\n                <p className=\"entrance__form-text\">E-mail</p>\n                    <input\n                    name=\"loginEmail\"\n                    id=\"login-email\"\n                    className=\"entrance__input entrance__input-email\"\n                    placeholder=\"Введите свою почту\"\n                    type=\"email\"\n                    required\n                    value={email || ''}\n                    onChange={handleChangeEmail} />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"login-email-error\">{errors.loginEmail}</span>\n\n                    <p className=\"entrance__form-text\">Пароль</p>\n                    <input\n                    name=\"loginPassword\"\n                    id=\"login-password\"\n                    className=\"entrance__input entrance__input-password\"\n                    placeholder=\"Введите пароль\"\n                    type=\"password\"\n                    required\n                    minLength=\"5\"\n                    value={password || ''}\n                    onChange={handleChangePassword} />\n                    <span\n                    className=\"entrance__input-error\"\n                    id=\"login-password-error\">{errors.loginPassword}</span>\n            </Entrance>    \n        </section>\n    )\n}\n\nexport default Login;","import React from 'react';\nimport { useHistory } from \"react-router-dom\";\n\nfunction NotFound(props) {\n    const history = useHistory();\n\n    return (\n        <section className=\"not-found\">\n            <div className=\"not-found__container\">\n                <h1 className=\"not-found__title\">404</h1>\n                <p className=\"not-found__subtitle\">Страница не найдена</p>\n            </div>\n            <button\n                className=\"not-found__button\"\n                type=\"button\"\n                onClick={() => history.goBack()}\n            >\n                Назад\n            </button>\n        </section>\n    )\n}\n\nexport default NotFound;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import { moviesBaseUrl } from './constants';\n\nclass MoviesApi {\n    constructor({baseUrl, headers}) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    //Запрос карточек с сервера\n    getInitialCards() {\n        return fetch(`${this.baseUrl}`, {\n          method: 'GET',\n          headers: this.headers\n        })\n        .then(this._checkResponse)\n    }\n\n    _checkResponse(res){\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      }  \n}\n\nconst moviesApi = new MoviesApi({\n    baseUrl: moviesBaseUrl,\n    headers: {\n      'Accept': 'application/json',\n      // 'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      'Content-Type': 'application/json'\n    }\n});\n\n\nexport default moviesApi;","import { mainBaseUrl } from \"./constants\";\n\nclass MainApi {\n    constructor({baseUrl, headers}) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n    //Запрос информации о пользователе    \n    getUserInfo() {\n        return fetch(`${this.baseUrl}/users/me`, {\n          method: 'GET',\n          headers: this.headers\n        })\n        .then(this._checkResponse)\n    }\n\n    //Изменение информации о пользователе\n    setUserInfo(data) {\n        return fetch(`${this.baseUrl}/users/me`, {\n          method: 'PATCH',\n          headers: this.headers,\n          body: JSON.stringify({\n            name: data.name,\n            about: data.about\n          })\n        })\n        .then(this._checkResponse)\n    }\n\n    //сохранение фильма\n    saveMovie(movie) {\n        return fetch(`${this.baseUrl}/movies`, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify({\n                country: movie.country,\n                director: movie.director,\n                duration: movie.duration,\n                year: movie.year,\n                description: movie.description,\n                image: movie.image,\n                trailer: movie.trailer,\n                nameRU: movie.nameRU,\n                nameEN: movie.nameEN,\n                thumbnail: movie.thumbnail,\n                movieId: movie.movieId,\n            })\n          })\n          .then(this._checkResponse)\n    }\n\n    //удаление фильма\n    deleteMovie(id) {\n        return fetch(`${this.baseUrl}/movies/${id}`, {\n          method: 'DELETE',\n          headers: this.headers\n        })\n        .then(this._checkResponse)\n    }\n\n    /* updateHeaders() {\n        this.headers = {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n        }\n    } */\n\n    //Регистрация\n    register (name, email, password) {\n        return fetch(`${this.baseUrl}/signup`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({ name, email, password })\n        })\n        .then((res) => {\n            console.log(res);\n            if(res.status === 200) {\n                return res.json();\n            }\n            if(res.status === 409) {\n                console.log(\"При регистрации указан email, который уже существует\");\n            }\n            if(res.status === 400) {\n                console.log(\"Переданы некорректные данные при создании пользователя\");\n            }\n        })\n        .then((res) => {\n            return res;\n        })\n        .catch((err) => console.log(err));\n    };\n  \n    //Авторизация\n    authorize (email, password) {\n        return fetch(`${this.baseUrl}/signin`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({email, password})\n            })\n        .then((res) => {\n            if(res.status === 200) {\n                return res.json();\n            }\n            if(res.status === 400) {\n                console.log(\"Не передано одно из полей\");\n            }\n            if(res.status === 401) {\n                console.log(\"Пользователь с email не найден\");\n            }\n        })\n        .then((res) => {\n            if(res.token) {\n                localStorage.setItem('jwt', res.token);\n                return res;\n            }\n        })  \n        .catch((err) => console.log(err));\n    };\n  \n  \n    //Проверка токена\n    checkToken (token) {\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: \"GET\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            }\n        })\n        .then((res) => {\n            if(res.status === 200) {\n                return res.json();\n            }\n            if(res.status === 400) {\n                console.log(\"Токен не передан или передан не в том формате\");\n            }\n            if(res.status === 401) {\n                console.log(\"Переданный токен некорректен\");\n            }\n            })\n        .then((data) => {\n            return data;\n            })\n        .catch((err) => console.log(err));\n    }\n\n    _checkResponse(res){\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }  \n}\n\nconst mainApi = new MainApi({\n    baseUrl: mainBaseUrl,\n    headers: {\n      'Accept': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      'Content-Type': 'application/json'\n    }\n});\n\n\nexport default mainApi;","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport { useLocation } from 'react-router';\n\n// Компоненты\nimport Main from '../Main/Main';\nimport Movies from '../Movies/Movies';\nimport SavedMovies from '../SavedMovies/SavedMovies';\nimport Profile from '../Profile/Profile';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport NotFound from '../NotFound/NotFound';\n\n//Контекст\nimport { CurrentUserContext } from '../../context/CurrentUserContext';\n\n//API\nimport moviesApi from '../../utils/MoviesApi';\nimport mainApi from '../../utils/MainApi';\n\nfunction App() {\n  const history = useHistory();\n  const location = useLocation();\n\n  //Переменные состояния\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userData, setUserData] = React.useState({});\n\n  //Карточки\n  const [movies, setMovies] = React.useState([]);\n  const [sortedMovies, setSortedMovies] = React.useState([]);\n  const [isButtonHide, setIsButtonHide] = React.useState(false);\n  const [isNoSearchResult, setIsNoSearchResult] = React.useState(false);\n  const [savedMovies, setSavedMovies] = React.useState([]);\n\n  //Регистрация пользователя\n  function handleRegister({name, email, password}) {\n    mainApi.register(name, email, password)\n    .then((res) => {\n        if(res) {\n          console.log('успешная регистрация');\n          history.push(\"/signin\");\n        } else {\n          console.log('плохая регистрация');\n        }\n    })\n    .catch((err) => {\n        console.log(`Attention! ${err}`);\n    })\n  }\n\n  //Авторизация пользователя\n  function handleLogin({email, password}) {\n    mainApi.authorize(email, password)\n    .then((res) => {\n        if(res) {\n          localStorage.setItem('token', res.token);\n          setLoggedIn(true);\n          console.log('успешный вход');\n          history.push('/movies');\n        }\n    })\n    .catch((err) => {\n        console.log(`Attention! ${err}`);\n    })\n  }\n\n  //Проверка токена\n  /* function tokenCheck() {\n    console.log(localStorage);\n    const locationPath = location.pathname;\n    const token = localStorage.getItem('token');\n\n    if(token) {\n      mainApi.checkToken(token)\n        .then((res) => {\n            if(res) {\n              setUserData({ \n                  email: res.email,\n                  id: res._id,\n              });\n                \n              setLoggedIn(true);\n              history.push(locationPath);\n            } else {\n              localStorage.removeItem(\"token\");\n              history.push(\"/\");\n              return\n            }\n        })\n        .catch((err) => {\n            console.log(`Attention! ${err}`);\n            history.push(\"/\");\n        })\n    }\n  } */\n\n  React.useEffect(() => {\n    const locationPath = location.pathname;\n    const token = localStorage.getItem('token');\n    console.log(token);\n\n    if(token) {\n      mainApi.checkToken(token)\n        .then((res) => {\n            if(res) {\n              setUserData({ \n                  email: res.email,\n                  id: res._id,\n              });\n                \n              setLoggedIn(true);\n              history.push(locationPath);\n            } else {\n              localStorage.removeItem(\"token\");\n              history.push(\"/\");\n              return\n            }\n        })\n        .catch((err) => {\n            console.log(`Attention! ${err}`);\n            history.push(\"/\");\n        })\n    }\n  }, []);\n\n  //Запрос информации пользователя\n  React.useEffect(() => {\n    if(loggedIn) {\n        mainApi.getUserInfo()\n        .then((userInfo) => {\n            setCurrentUser(userInfo);\n        })\n        .catch((err) => {\n            console.log(`Attention! ${err}`);\n        });\n    }\n    \n  }, [loggedIn]);\n\n  //Выход из аккаунта\n  /* function handleSignOut() {\n    setLoggedIn(false);\n    history.push(\"/signin\");\n    localStorage.removeItem(\"jwt\");\n  } */\n\n  //Запрос карточек\n  React.useEffect(() => {\n    moviesApi.getInitialCards()\n      .then((movies) => {     \n        setMovies(movies);\n      })\n      .catch((err) => {\n        console.log(`Attention! ${err}`);\n      });\n    /* if(loggedIn) {\n      moviesApi.getInitialCards()\n      .then((cards) => {     \n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(`Attention! ${err}`);\n      });\n    }*/\n  }, []);\n\n  //Поиск фильмов\n  function searchMovies(word) {\n    //showPreloader();\n    const keyword = word.toLowerCase();\n    const result = [];\n    movies.forEach((item) => {\n      if((item.nameRU !== null && item.nameRU.toLowerCase().includes(keyword))\n        ||\n        (item.nameEN !== null && item.nameEN.toLowerCase().includes(keyword))) {\n          result.push(item);\n          setIsNoSearchResult(false);\n          setIsButtonHide(false)\n          setSortedMovies(result);\n          localStorage.setItem('movieSearchResult', JSON.stringify(result));\n          //console.log(localStorage);\n        } else if (result.length < 1) {\n          setIsNoSearchResult(true);\n          setIsButtonHide(true);\n          setSortedMovies([]);\n        }\n    })\n  }\n\n  //Поиск сохраненных фильмов\n  function searchSavedMovies(word) {\n    //showPreloader();\n    const keyword = word.toLowerCase();\n    const result = [];\n    savedMovies.forEach((item) => {\n      if ((item.nameRU !== null && item.nameRU.toLowerCase().includes(keyword))\n          ||\n          (item.nameEN !== null && item.nameEN.toLowerCase().includes(keyword))) {\n            result.push(item);\n            setIsNoSearchResult(false);\n            setIsButtonHide(false)\n            setSavedMovies(result);\n            localStorage.setItem('savedMovieSearchResult', JSON.stringify(result));\n            //console.log(localStorage);\n      } else if (result.length < 1) {\n            setIsNoSearchResult(true);\n            setIsButtonHide(true);\n            setSavedMovies([]);\n      }\n    })\n  }\n\n  //Сохранение фильмов\n  const isMovieSaved = (movie) => savedMovies.some((item) => item.id === movie.id);\n\n  function setMovieSavedIcon(movie) {\n    return (movie.isSaved = savedMovies.some(\n        (savedMovie) => savedMovie.movieId === movie.id\n    ));\n  }\n\n  function saveMovies(movie) {\n    mainApi.saveMovie(movie)\n      .then((savedMovie) => {\n        localStorage.setItem('savedMovie', JSON.stringify((savedMovie = [savedMovie, ...savedMovies])));\n        setSavedMovies(savedMovie);\n      })\n      .catch((err) => {\n        console.log(`Attention! ${err}`);\n      })\n  }\n\n  //Удаление фильмов\n  function deleteMovie(movie) {\n    const movieId = movie.movieId;\n    const selectedMovie = savedMovies.find((item) => item.movieId === movieId);\n\n    mainApi.deleteMovie({_id: selectedMovie._id})\n        .then((deletedMovie) => {\n            if (!deletedMovie) {\n                throw new Error('При удалении фильма произошла ошибка');\n            } else {\n                const newMoviesList = savedMovies.filter((c) => c.movieId !== movieId);\n                setSavedMovies(newMoviesList);\n            }\n        })\n        .catch((err) => {\n            console.log(`При удалении фильма: ${err}`)\n        });\n  }\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n\n          <ProtectedRoute path=\"/movies\">\n            <Movies\n            loggedIn={loggedIn}\n            cards={sortedMovies}\n            onSearch={searchMovies}\n            hideButton={isButtonHide}\n            noResult={isNoSearchResult}\n            onSave={saveMovies}\n            isMovieSaved={isMovieSaved}\n            onDelete={deleteMovie}\n            setMovieSavedIcon={setMovieSavedIcon}\n            />\n          </ProtectedRoute>\n\n          <ProtectedRoute path=\"/saved-movies\">\n            <SavedMovies\n            loggedIn={loggedIn}\n            onSearch={searchSavedMovies}\n            cards={savedMovies}\n            hideButton={isButtonHide}\n            oResult={isNoSearchResult}\n            onDelete={deleteMovie} />\n          </ProtectedRoute>\n\n          <ProtectedRoute path=\"/profile\">\n            <Profile\n            loggedIn={loggedIn}\n            currentUser={currentUser}\n             />\n          </ProtectedRoute>\n\n          <Route path=\"/signin\">\n            <Login\n            onLogin={handleLogin} />\n          </Route>\n          \n          <Route path=\"/signup\">\n            <Register\n            onRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"*\">\n            <NotFound />\n          </Route>\n        </Switch>\n      </div>\n    </CurrentUserContext.Provider>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from '../src/components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}